<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Magona Bike Garage ‚Äì BibbonaBike</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">

  <!-- ‚úÖ Open Graph Preview (Facebook, WhatsApp, LinkedIn...) -->
  <meta property="og:title" content="Magona Bike Garage ‚Äì BibbonaBike" />
  <meta property="og:description" content="Noleggio bici, officina e ristoro a Bibbona. Scopri i tour guidati e i nostri servizi!" />
  <meta property="og:image" content="https://bibbonabike.com/img/Magona_Bike_preview.png" />
  <meta property="og:url" content="https://bibbonabike.com" />
  <meta property="og:type" content="website" />

  <!-- ‚úÖ Twitter Card (per X/Twitter) -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Magona Bike Garage ‚Äì BibbonaBike" />
  <meta name="twitter:description" content="Noleggio bici, officina e ristoro a Bibbona. Scopri i tour guidati e i nostri servizi!" />
  <meta name="twitter:image" content="https://bibbonabike.com/img/Magona_Bike_preview.png" />


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="css/footer.css" />
  <link rel="stylesheet" href="css/services.css" />
  <link rel="stylesheet" href="css/officina.css" />
  <link rel="stylesheet" href="css/noleggio.css" />
  <link rel="stylesheet" href="css/booking.css" />
  <link rel="stylesheet" href="css/tour.css">
  <link rel="stylesheet" href="css/event.css">
  <link rel="stylesheet" href="css/slideshow.css">



  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="img/icononly.png" type="image/png" />
</head>
<body>
    <header class="site-header" id="header">
        <div class="container">
          <img src="img/icononly_transparent_nobuffer.png" alt="BibbonaBike Logo" class="logo" />
          <img src="img/text.png" alt="Magona Bike Garage" class="logo logo-text" />
          <button class="menu-toggle" id="menuBtn" onclick="toggleMenu()">‚ò∞</button>
          
          <nav>
            <ul>
              <li><a href="#"><i class="fas fa-home"></i> Home</a></li>
              <li><a href="#officina"><i class="fas fa-tools"></i> Assistenza 24h</a></li>
              <li><a href="#noleggio"><i class="fas fa-bicycle"></i> Noleggio</a></li>
              <li><a href="#tour"><i class="fas fa-map-marked-alt"></i> Tour</a></li>
              <li><a href="#eventi"><i class="fas fa-calendar-alt"></i> Eventi</a></li>
              <li><a href="#footerCredits"><i class="fas fa-info-circle"></i> Info</a></li>
            </ul>
          </nav>

      
          <!-- Spostato dentro per essere gestito dal toggle -->
          <div class="social-header" id="socialIcons">
            <a href="https://wa.me/393313453207" target="_blank" aria-label="WhatsApp">
              <i class="fab fa-whatsapp"></i>
            </a>
            <a href="https://www.instagram.com/magona_bike_garage/" target="_blank" aria-label="Instagram">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="https://www.facebook.com/61555867481698/" target="_blank" aria-label="Facebook">
            <i class="fab fa-facebook"></i>
          </a>
          </div>
          
        </div>
      </header>
      

    <section class="hero">
      <!-- Video Background -->
      <video autoplay muted loop playsinline preload="auto" class="hero-video">
        <source src="video/video.webm" type="video/webm">
        <source src="video/video.mp4" type="video/mp4">
        Il tuo browser non supporta i video HTML5.
      </video>

        <div id="weatherWidget" class="weather-widget hidden">
          <img id="weatherIcon" src="" alt="Meteo" />
          <span id="weatherTemp"></span>
        </div>


      <!-- Contenuto iniziale -->
      <div class="hero-content animated">
        <img src="img/fulllogo_transparent_nobuffer.png" alt="Magona Bike Garage" class="hero-logo" />
        <div class="hero-text">
          <h1 id="slideshow-title" class="fade-text">Pedala la libert√† tra i sentieri toscani</h1>
          <p>Noleggio bici, officina e ristoro a Bibbona. Tutto in un solo punto.</p>
          <a href="#noleggio" class="btn-primary scroll-btn">
            <span class="icon-bike">üö¥‚Äç‚ôÇÔ∏è</span> Prenota la tua bici
          </a>
        </div>
      </div>
        <!-- SVG divisione catene montuose -->
        <div class="hero-mountain-overlay">
          <svg viewBox="0 0 1440 320" preserveAspectRatio="none">
            <path fill="#fdfdfd" d="M0,320 
              L200,180 
              L400,300 
              L600,120 
              L800,260 
              L1000,140 
              L1200,280 
              L1440,160 
              L1440,320 
              L0,320 
              Z" />
          </svg>
        </div>
    </section>
  <!-- Sezione servizi -->  
  <main class="container-full">
    <section class="services">
      <h2 class="section-title">I nostri servizi</h2>
      <div class="grid">
        <div class="service-card enhanced">
          <i class="fas fa-bicycle service-icon"></i>
          <h3>Noleggio Bici</h3>
          <p>E-Bike, MTB, Bici da Corsa. Tutte pronte per farti esplorare la Costa degli Etruschi.</p>
        </div>
        <div class="service-card enhanced">
          <i class="fas fa-tools service-icon"></i>
          <h3>Officina</h3>
          <p>Riparazioni, revisioni e manutenzioni complete per ogni tipo di bici.</p>
        </div>
        <div class="service-card enhanced">
          <i class="fas fa-mug-hot service-icon"></i>
          <h3>Ristoro</h3>
          <p>Area relax con caffetteria e spuntini per ricaricare anche te, non solo la bici.</p>
        </div>
      </div>
    </section>
    <!-- üåÑ Slideshow Parallax Motivazionale -->
    <div id="wrapper">
      <section class="slideshow" id="js-header">
        
        <div class="slideshow__slide js-slider-home-slide is-current" data-slide="1">
        <div class="slideshow__slide-background-parallax background-absolute js-parallax" data-speed="-1" data-position="top" data-target="#js-header">
          <div class="slideshow__slide-background-load-wrap background-absolute">
            <div class="slideshow__slide-background-load background-absolute">
              <div class="slideshow__slide-background-wrap background-absolute">
                <div class="slideshow__slide-background background-absolute">
                  <div class="slideshow__slide-image-wrap background-absolute">
                  <div class="slideshow__slide-image background-absolute" style="background-image: url('img/slogan4.png');"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="slideshow__slide-caption">
          <div class="slideshow__slide-caption-text">
            <div class="container js-parallax" data-speed="2" data-position="top" data-target="#js-header">
              <h1 class="slideshow__slide-caption-title">Tutto ci√≤ che √® rotto pu√≤ essere riparato</h1>
              <a class="slideshow__slide-caption-subtitle -load o-hsub -link" href="tel:+393313453207">
                <span class="slideshow__slide-caption-subtitle-label">Chiamaci!</span>
              </a>
            </div>
          </div>
        </div>
      </div>
        
        <div class="slideshow__slide js-slider-home-slide is-next" data-slide="2">
        <div class="slideshow__slide-background-parallax background-absolute js-parallax" data-speed="-1" data-position="top" data-target="#js-header">
          <div class="slideshow__slide-background-load-wrap background-absolute">
            <div class="slideshow__slide-background-load background-absolute">
              <div class="slideshow__slide-background-wrap background-absolute">
                <div class="slideshow__slide-background background-absolute">
                  <div class="slideshow__slide-image-wrap background-absolute">
                  <div class="slideshow__slide-image background-absolute" style="background-image: url('img/slogan3.jpg');"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="slideshow__slide-caption">
          <div class="slideshow__slide-caption-text">
            <div class="container js-parallax" data-speed="2" data-position="top" data-target="#js-header">
              <h1 class="slideshow__slide-caption-title">Guarda oltre il sentiero</h1>
              <a class="slideshow__slide-caption-subtitle -load o-hsub -link" href="#">
                <span class="slideshow__slide-caption-subtitle-label">Scopri di pi√π</span>
              </a>
            </div>
          </div>
        </div>
      </div>
        
        <div class="slideshow__slide js-slider-home-slide is-prev" data-slide="3">
        <div class="slideshow__slide-background-parallax background-absolute js-parallax" data-speed="-1" data-position="top" data-target="#js-header">
          <div class="slideshow__slide-background-load-wrap background-absolute">
            <div class="slideshow__slide-background-load background-absolute">
              <div class="slideshow__slide-background-wrap background-absolute">
                <div class="slideshow__slide-background background-absolute">
                  <div class="slideshow__slide-image-wrap background-absolute">
                  <div class="slideshow__slide-image background-absolute" style="background-image: url('img/slogan5.jpeg');"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="slideshow__slide-caption">
          <div class="slideshow__slide-caption-text">
            <div class="container js-parallax" data-speed="2" data-position="top" data-target="#js-header">
              <h1 class="slideshow__slide-caption-title">Ehi, prenditi un momento per rilassarti!</h1>
              <a class="slideshow__slide-caption-subtitle -load o-hsub -link" href="#">
                <span class="slideshow__slide-caption-subtitle-label">Ne abbiamo tutti bisogno</span>
              </a>
            </div>
          </div>
        </div>
      </div>
        
        <div class="c-header-home_footer">
        <div class="o-container">
          <div class="c-header-home_controls -nomobile o-button-group">
            <div class="js-parallax is-inview" data-speed="1" data-position="top" data-target="#js-header">
              <button class="o-button -white -square -left js-slider-home-button js-slider-home-prev" type="button">
                <span class="o-button_label">
                  <svg class="o-button_icon" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-prev"></use></svg>
                </span>
              </button>
              <button class="o-button -white -square js-slider-home-button js-slider-home-next" type="button">
                <span class="o-button_label">
                  <svg class="o-button_icon" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-next"></use></svg>
                </span>
              </button>
            </div>
          </div>
        </div>
      </div>
      
        
      </section>
    <div>
    <!-- SVG per le frecce di navigazione -->
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <symbol viewBox="0 0 18 18" id="arrow-next">
            <path id="arrow-next-arrow.svg" d="M12.6,9L4,17.3L4.7,18l8.5-8.3l0,0L14,9l0,0l-0.7-0.7l0,0L4.7,0L4,0.7L12.6,9z"></path>
        </symbol>
        <symbol viewBox="0 0 18 18" id="arrow-prev">
            <path id="arrow-prev-arrow.svg" d="M14,0.7L13.3,0L4.7,8.3l0,0L4,9l0,0l0.7,0.7l0,0l8.5,8.3l0.7-0.7L5.4,9L14,0.7z"></path>
        </symbol>
    </svg>

    <!-- Sezione OFFICINA -->
    <section class="officina-section" id="officina">
      <div id="officina-title-anchor"></div> <!-- ‚¨ÖÔ∏è Punto di ancoraggio visibile al JS -->
      <h2 class="section-title"><i class="fas fa-tools"></i> Officina</h2>

      <div class="officina-content">
        <div class="feature" id="bikeFeature">
          <img src="img/frame3@2x.png" alt="Telaio bici" class="feature__frame">
          <img src="img/wheel-hr4.png" alt="Ruota posteriore" class="feature__wheel feature__wheel--rear">
          <img src="img/wheel-hr4.png" alt="Ruota anteriore" class="feature__wheel feature__wheel--front">
        </div>

        <div class="officina-text">
        <p id="officinaText" style="white-space: pre-wrap;"></p>

          <div class="officina-buttons" style="margin-top: 1.2rem; display: flex; gap: 1rem; align-content: space-between; flex-direction: row; align-items: center; flex-wrap: wrap; justify-content: center;">
            <span id="phoneLink"></span>
            <span id="whatsappLink"></span>
          </div>
        </div>
      </div>
    </section>


    <!-- Sezione Noleggio -->
    <section class="rental-section">
      <h2 class="section-title"><i class="fas fa-bicycle"></i> Noleggio Biciclette</h2>
      <div class="bike-grid">
        <div class="bike-card">
          <img src="img/bike-ebike.jpg" alt="E-Bike" />
          <div class="bike-info">
            <h3>50,00‚Ç¨ <span>| giorno</span></h3>
            <p class="bike-type">FULL</p>
            <a href="#prenota" class="btn-secondary bike-select" data-bike="FULL">SELEZIONA ¬ª</a>
          </div>
        </div>
        <div class="bike-card">
          <img src="img/bike-ebike.jpg" alt="E-Bike" />
          <div class="bike-info">
            <h3>35,00‚Ç¨ <span>| giorno</span></h3>
            <p class="bike-type">FRONT</p>
            <a href="#prenota" class="btn-secondary bike-select" data-bike="FRONT">SELEZIONA ¬ª</a>
          </div>
        </div>
        <div class="bike-card">
          <img src="img/bike-ebike.jpg" alt="Mountain Bike" />
          <div class="bike-info">
            <h3>45,00‚Ç¨ <span>| giorno</span></h3>
            <p class="bike-type">MTB</p>
            <a href="#prenota" class="btn-secondary bike-select" data-bike="MTB">SELEZIONA ¬ª</a>
          </div>
        </div>
      </div>
    </section>

    <!-- TOUR SECTION -->
    <section class="tour-section" id="tour">
      <div class="tour-slideshow">
        <div class="tour-slide active" style="background-image: url('img/tour1.jpg');"></div>
        <div class="tour-slide" style="background-image: url('img/tour2.jpg');"></div>
        <div class="tour-slide" style="background-image: url('img/tour3.jpg');"></div>
      </div>
      <div class="tour-overlay">
        <h2 class="section-title tour-title"><i class="fas fa-route"></i> Tour Guidati</h2>
        <div class="tour-cards">
          <!-- Le card verranno generate dinamicamente da JS -->
        </div>

      </div>
    </section>
    <!-- === TOUR DRAWER OVERLAY === -->
    <div id="tourDrawerOverlay" class="drawer-overlay hidden"></div>

    <!-- === TOUR DRAWER === -->
    <div id="tourDrawer" class="drawer hidden">
      <button class="drawer-close" id="tourDrawerClose">&times;</button>
      <div class="drawer-content">
        <img id="tourDrawerImage" src="img/placeholder.jpg" alt="Immagine tour" />
        <h3 id="tourDrawerTitle">Titolo Tour</h3>
        <div class="durata-wrapper">
          <strong>Durata:</strong>
          <span id="tourDrawerDuration">0h</span>
          <div class="durata-bar">
            <div id="durataBarFill" class="durata-fill"></div>
          </div>
        </div>
        <div class="distanza-wrapper">
          <strong>Distanza:</strong>
          <span id="tourDrawerDistance">31 km</span>
          <div class="map-icon-wrapper">
            <!-- Sentiero con segnapunto animato -->
            <svg class="sentiero-svg" viewBox="0 0 100 40" width="100" height="40">
              <!-- Percorso -->
              <path id="sentieroPath" d="M0 35 Q25 5, 50 25 T100 15" stroke="#888" fill="none" stroke-width="2" stroke-dasharray="4 2"/>
              
              <!-- Segnapunto -->
              <circle r="3" fill="#ff5722">
                <animateMotion dur="3s" repeatCount="indefinite">
                  <mpath href="#sentieroPath" />
                </animateMotion>
              </circle>
            </svg>
          </div>
        </div>


        <div class="drawer-row">
          <strong>Dislivello:</strong>
          <span id="tourDrawerElevation">0 m</span>
          <div class="mini-elevation">
            <svg viewBox="0 0 100 30" preserveAspectRatio="none">
              <polyline id="elevationPath"
                points="0,30 10,25 20,10 30,20 40,8 50,18 60,6 70,15 80,5 90,12 100,6"
                fill="none"
                stroke="#4caf50"
                stroke-width="2"
              />
            </svg>
          </div>
        </div>
       <p><strong>Prezzo:</strong> <span id="tourDrawerPrice"></span></p>
        <!-- ‚úÖ Barra di difficolt√† -->
        <div class="drawer-difficulty">
          <span><strong>Difficolt√†:</strong> <span id="difficultyLabel">‚Äì</span></span>
          <div class="difficulty-bar">
            <div id="difficultyLevel" class="difficulty-fill"></div>
          </div>
        </div>

        <p id="tourDrawerDescription">Descrizione dettagliata del tour...</p>

        <div class="drawer-buttons">
          <a href="#noleggio" class="btn-primary scroll-btn" id="tourDrawerBook">Prenota</a>
          <a href="#" class="btn-primary" id="tourDrawerWhatsApp" target="_blank">
            <i class="fab fa-whatsapp"></i> WhatsApp
          </a>
          <a href="#" class="btn-primary" id="tourDrawerEmail">
            <i class="fas fa-envelope"></i> Email
          </a>
        </div>
      </div>
    </div>


    <!-- SEZIONE EVENTI / CORSI via json file event.json -->
    <section class="eventi-slider-section" id="eventi">
      <div class="container-full">
      <div class="section-title-wrapper">
        <h2 class="section-title"><i class="fas fa-calendar-alt"></i> Corsi / Eventi</h2>
        <div class="slash-anim"></div>
      </div>

          <div class="eventi-slider"></div>
      </div>
    </section>
    <!-- Drawer per i dettagli dell'evento -->
    <div id="drawerOverlay" class="drawer-overlay hidden"></div>
    <div id="eventoDrawer" class="drawer hidden">
      <button id="eventoDrawerClose" class="drawer-close">√ó</button>
      <div class="drawer-content">
        <img id="drawerImage" src="" alt="Evento">
        <h3 id="drawerTitle"></h3>
        <p><strong>üìÖ Data:</strong> <span id="drawerDate"></span></p>
        <p><strong>üïí Orario:</strong> <span id="drawerTime"></span></p>
        <p><strong>üí∂ Prezzo:</strong> <span id="drawerPrice"></span></p>
        <p id="drawerDescription"></p>
        <div class="drawer-buttons">
          <a id="drawerBook" href="#noleggio" class="btn-primary">Prenota</a>
          <a id="drawerWhatsApp" target="_blank" class="btn-primary"><i class="fab fa-whatsapp"></i> Chat su WhatsApp</a>
          <a id="drawerCall" href="tel:+393313453207" class="btn-primary"><i class="fas fa-phone"></i> Chiama</a>
          <a id="drawerEmail" class="btn-primary"><i class="fas fa-envelope"></i> Email</a>
        </div>
      </div>
    </div>

    <!-- FORM Noleggio / prenotazione -->
    <section class="form-section" id="noleggio"> 
      <div class="container-full">
        <h2 class="section-title"><i class="fas fa-calendar-check"></i> Prenota ora</h2>

        <form id="noleggioForm" class="form-card">
          <div class="form-group icon-input">
            <label for="name">Nome e Cognome *</label>
            <i class="fa fa-user"></i>
            <input type="text" id="name" name="name" autocomplete="name" required />
          </div>

          <div class="form-group icon-input">
            <label for="email">Email *</label>
            <i class="fa fa-envelope"></i>
            <input type="email" id="email" name="email" autocomplete="email" required />
          </div>

          <div class="form-group icon-input">
            <label for="bikeType">Tipo di bici *</label>
            <i class="fa fa-bicycle"></i>
            <select id="bikeType" name="bikeType" required>
              <option value="">Seleziona</option> <option value="MTB">MTB</option>
              <option value="FULL">FULL</option>
              <option value="FRONT">FRONT</option>
              </select>
          </div>

          <div class="form-group icon-input">
            <label for="quantity">Quantit√† *</label>
            <i class="fa fa-plus"></i>
            <input type="number" id="quantity" name="quantity" value="1" min="1" required />
          </div>

          <div class="form-group icon-input">
            <label for="date">Data *</label>
            <i class="fa fa-calendar-alt"></i>
            <input type="date" id="date" name="date" autocomplete="bday" required>
          </div>

          <div class="form-group icon-input">
            <label for="duration">Durata *</label>
            <i class="fa fa-clock"></i>
            <select id="duration" name="duration" required>
              <option value="0.5">¬Ω giornata</option>
              <option value="1">1 giorno</option>
              <option value="2">2 giorni</option>
              <option value="3">3 giorni</option>
              <option value="4">4 giorni</option>
              <option value="5">5 giorni</option>
              <option value="6">6 giorni</option>
              <option value="7">7 giorni</option>
            </select>
          </div>

          <div class="form-group tour-field-container" id="tourField" style="display: none;">
            <label for="tourSelected">Tour selezionato</label>
            <div class="tour-input-wrapper">
              <i class="fa fa-map-marked-alt"></i>
              <input type="text" id="tourSelected" name="tourSelected" readonly />
              </div>
          </div>
          <div class="form-group icon-input" id="eventField" style="display: none;">
              <label for="eventSelected">Evento Selezionato</label>
              <i class="fas fa-calendar-check" aria-hidden="true"></i>
              <input type="text" id="eventSelected" name="eventSelected" readonly />
              <button type="button" id="removeEventBtn" title="Rimuovi Evento" style="margin-left: 10px; background: none; border: none; font-size: 1.3rem; cursor: pointer; color: #dc3545;">‚úñ</button>
          </div>

          <input type="hidden" id="eventIdHidden" name="eventIdHidden" value="" />
          
          <div class="form-group icon-input">
            <label for="notes">Note (altezza, attrezzature richieste)</label>
            <i class="fa fa-pen"></i>
            <textarea id="notes" name="notes"></textarea>
          </div>

          <p class="price-summary">
            <strong>Totale:</strong> ‚Ç¨<span id="totalAmount">0.00</span>
            <input type="hidden" name="total" id="totalHidden" value="0.00">
          </p>

          <button type="submit" class="btn-primary">üì© Invia richiesta</button>
          <p id="responseMessage"></p>
        </form>
        <div id="paypalPlaceholder" style="margin-top: 20px; text-align: center;"></div>
      </div>
    </section>


  </main>
  <section class="footer-transition"></section>
  
<footer>
  <div class="footerhero">

    <!-- Parallax layers -->
    <div class="parallax-layer layer-6"></div>
    <div class="parallax-layer layer-5"></div>
    <div class="parallax-layer layer-4"></div>
    <div class="parallax-layer bike-1"></div>
    <div class="parallax-layer bike-2"></div>
    <div class="parallax-layer bike-3"></div>
    <div class="parallax-layer bike-4"></div>
    <div class="parallax-layer layer-3"></div>
    <div class="parallax-layer layer-2"></div>
    <div class="parallax-layer layer-1"></div>
    <div id="footerCredits" class="footer-phrases"></div>

    <!-- ‚úÖ Contenuto statico del footer -->
    <div class="footer-overlay hidden">
      <div class="footer-bar">
        <img src="img/fulllogo_transparent_nobuffer.png" alt="Magona Bike Garage" />
        <p>
          <a href="https://www.google.com/maps/place/Via+del+Mandorlo,+1,+57020+Bibbona+LI" 
            target="_blank" 
            style="color: inherit; text-decoration: none;">
          <i class="fas fa-map-marker-alt animated-icon"></i> Via del Mandorlo 1, Bibbona¬†57020
          </a>
        </p>
        <p>&copy; 2025 Magona Bike Garage ‚Äì BibbonaBike.com</p>
        <div class="footer-social">
          <a href="https://wa.me/393313453207" target="_blank" aria-label="WhatsApp">
            <i class="fab fa-whatsapp"></i>
          </a>
          <a href="https://www.instagram.com/magona_bike_garage/" target="_blank" aria-label="Instagram">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="https://www.facebook.com/61555867481698/" target="_blank" aria-label="Facebook">
            <i class="fab fa-facebook"></i>
          </a>
        </div>
      </div>

    </div>
  </div>
</footer>

<!-- ‚Üë Pulsante Scroll to Top -->
<button id="scrollToTop" aria-label="Torna su">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="20" height="20">
    <path d="M12 4l-8 8h5v8h6v-8h5z"/>
  </svg>
</button>

<!-- Widget Chat BibbonaBike -->
<div id="chatWidget">
  <button id="chatToggle">
    <img src="img/icon_ai.png" alt="Chat" class="chat-icon" />
  </button>
  <div id="chatBox" class="hidden">
    <div id="chatMessages"></div>
    <textarea id="chatInput" placeholder="Scrivi una domanda..."></textarea>
    <button id="chatSend">Invia</button>
  </div>
</div>

<!-- ‚úÖ JS Scroll to Top + Reveal Footer -->
<script>
  // Scroll to Top
  const scrollBtn = document.getElementById("scrollToTop");
  window.addEventListener("scroll", () => {
    scrollBtn.style.display = window.scrollY > 300 ? "block" : "none";
  });
  scrollBtn.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });

  // Reveal footer
  document.addEventListener("DOMContentLoaded", () => {
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.remove("hidden");
          entry.target.classList.add("visible");
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.4 });

    const footer = document.querySelector('.footer-overlay');
    if (footer) observer.observe(footer);
  });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script src="js/nav.js"></script>
  <script src="js/slogan.js"></script>
  <script src="js/tour.js"></script>
  <script src="js/event.js"></script>
  <script src="js/booking.js"></script>
  <script src="js/slideshow.js"></script>
  <script src="js/typewrite.js"></script>
  <script src="js/bike.js"></script>
  <script src="js/chat.js"></script>
  <script src="js/weather.js"></script>
  <script src="js/contactButton.js"></script>

  
  <script>
    // Animazione apparizione del form
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, {
      threshold: 0.2
    });
  
    const formCard = document.querySelector('.form-card');
    if (formCard) observer.observe(formCard);
  </script>

  <script>
  // Slideshow automatica
  let tourSlides = document.querySelectorAll('.tour-slide');
  let currentTour = 0;
  setInterval(() => {
    tourSlides[currentTour].classList.remove('active');
    currentTour = (currentTour + 1) % tourSlides.length;
    tourSlides[currentTour].classList.add('active');
  }, 5000);
</script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const message = document.getElementById("chiSiamoScroll");
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          message.style.animationPlayState = "running";
        }
      });
    }, { threshold: 0.5 });

    if (message) {
      message.style.animationPlayState = "paused"; // di default fermo
      observer.observe(message);
    }
  });
</script>


<script>
  // Mostra il widget chat quando il footer √® visibile
  const chatWidget = document.getElementById("chatWidget");
  const footer = document.querySelector("footer");

  const chatFooterObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        chatWidget.classList.add("visible");
      } else {
        chatWidget.classList.remove("visible");
      }
    });
  }, {
    threshold: 0.3
  });

  if (footer) chatFooterObserver.observe(footer);
document.addEventListener("DOMContentLoaded", () => {
  const chatWidget = document.getElementById("chatWidget");
  const footer = document.querySelector("footer");

  const chatFooterObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        chatWidget.classList.add("visible");
      } else {
        chatWidget.classList.remove("visible");
      }
    });
  }, {
    threshold: 0.3
  });

  if (footer) chatFooterObserver.observe(footer);
});
</script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const h2List = document.querySelectorAll("h2.section-title");

      h2List.forEach(h2 => {
        // Avvolgi ogni h2 in un contenitore
        const wrapper = document.createElement("div");
        wrapper.classList.add("section-title-wrapper");
        h2.parentNode.insertBefore(wrapper, h2);
        wrapper.appendChild(h2);

        // Aggiungi barra slash
        const slash = document.createElement("div");
        slash.classList.add("slash-anim");
        if (h2.classList.contains("tour-title")) {
          slash.style.backgroundColor = "#fff"; // Slash bianco per Tour
        }
        wrapper.appendChild(slash);
      });

      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const h2 = entry.target;
            const wrapper = h2.parentElement;
            const slash = wrapper.querySelector(".slash-anim");

            // Attiva animazione
            slash.style.left = "120%";
            slash.style.opacity = "1";

            setTimeout(() => {
              h2.classList.add("visible");
            }, 400);

            setTimeout(() => {
              slash.style.opacity = "0";
            }, 800);

            observer.unobserve(h2); // Anima una volta sola
          }
        });
      }, { threshold: 0.5 });

      document.querySelectorAll("h2.section-title").forEach(h2 => {
        observer.observe(h2);
      });
    });
    </script>
</body>
</html>
