<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>BibbonaBike.com - Gestione Cookie</title>
    <style>
        /*
        * 1. Stile CSS per il Banner di Gestione Cookie
        */
        #cookie-banner-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7); /* Sfondo scuro che blocca la pagina */
            display: none; /* Inizialmente nascosto */
            justify-content: center;
            align-items: center;
            z-index: 9999; 
            font-family: Arial, sans-serif;
        }

        #cookie-consent-modal {
            background-color: white;
            color: #333;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            max-width: 500px;
            width: 90%;
            max-height: 80vh; /* Limita l'altezza per schermi piccoli */
            overflow-y: auto;
        }

        #cookie-consent-modal h2 {
            color: #e67e22; /* Colore tema (es. Arancione Bike) */
            margin-top: 0;
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
        }

        .cookie-category {
            margin-bottom: 15px;
            padding: 10px;
            border: 1px solid #eee;
            border-radius: 4px;
        }

        .cookie-category label {
            display: flex;
            align-items: center;
            font-weight: bold;
            cursor: pointer;
        }

        .cookie-category input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }

        .cookie-category .description {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
            padding-left: 30px;
        }
        
        /* Input disabilitato per i cookie Necessari */
        .cookie-category input:disabled + span {
            color: #aaa;
        }

        /* Pulsanti di azione */
        .cookie-actions {
            display: flex;
            justify-content: flex-end; /* Allinea a destra */
            gap: 10px;
            margin-top: 20px;
        }

        .cookie-actions button {
            padding: 10px 20px;
            border: 1px solid #34495e;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        #accept-all-btn {
            background-color: #e67e22; /* Accetta Tutto (Arancione) */
            color: white;
            border-color: #e67e22;
        }

        #accept-all-btn:hover {
            background-color: #d35400;
        }

        #reject-all-btn, #save-prefs-btn {
            background-color: #ecf0f1; /* Rifiuta/Salva (Grigio chiaro) */
            color: #34495e;
        }

        #reject-all-btn:hover, #save-prefs-btn:hover {
            background-color: #bdc3c7;
        }

    </style>
</head>
<body>

    <div id="cookie-banner-overlay">
        <div id="cookie-consent-modal">
            <h2>Gestione Cookie per BibbonaBike.com</h2>
            <p>
                Utilizziamo i cookie per garantirti la migliore esperienza di noleggio e prenotazione. Puoi scegliere quali categorie accettare:
            </p>

            <div class="cookie-category">
                <label>
                    <input type="checkbox" id="cookie-necessary" checked disabled>
                    <span>Cookie Tecnici e Necessari</span>
                </label>
                <div class="description">
                    Essenziali per il funzionamento del sito (es. carrello, login, sicurezza, gestione della prenotazione). Non possono essere disattivati.
                </div>
            </div>

            <div class="cookie-category">
                <label for="cookie-analytics">
                    <input type="checkbox" id="cookie-analytics" data-cookie-type="analytics">
                    <span>Cookie Statistici e Analitici</span>
                </label>
                <div class="description">
                    Ci aiutano a capire come i visitatori interagiscono con il sito e a migliorarlo (es. Google Analytics).
                </div>
            </div>

            <div class="cookie-category">
                <label for="cookie-marketing">
                    <input type="checkbox" id="cookie-marketing" data-cookie-type="marketing">
                    <span>Cookie di Marketing e Profilazione</span>
                </label>
                <div class="description">
                    Utilizzati per mostrarti annunci pertinenti sui social media o altri siti web.
                </div>
            </div>

            <p style="margin-top: 20px;">
                Per maggiori dettagli, consulta la nostra <a href="/privacy-policy" target="_blank" style="color: #e67e22;">Privacy e Cookie Policy</a>.
            </p>

            <div class="cookie-actions">
                <button id="reject-all-btn">Rifiuta Tutto</button>
                <button id="save-prefs-btn">Salva Preferenze</button>
                <button id="accept-all-btn">Accetta Tutto</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const overlay = document.getElementById('cookie-banner-overlay');
            const acceptAllBtn = document.getElementById('accept-all-btn');
            const rejectAllBtn = document.getElementById('reject-all-btn');
            const savePrefsBtn = document.getElementById('save-prefs-btn');
            
            // Selettori per le checkbox
            const analyticsCheckbox = document.getElementById('cookie-analytics');
            const marketingCheckbox = document.getElementById('cookie-marketing');

            const STORAGE_KEY = 'bibbonabike_cookie_consent';

            /**
             * Controlla e restituisce le preferenze salvate.
             * @returns {object|null}
             */
            function getConsent() {
                const consent = localStorage.getItem(STORAGE_KEY);
                return consent ? JSON.parse(consent) : null;
            }

            /**
             * Salva le preferenze nel localStorage.
             * @param {object} prefs - Oggetto con le categorie e il loro stato (true/false).
             */
            function saveConsent(prefs) {
                // Includi i necessari come sempre accettati per default (funzionalit√† base)
                prefs.necessary = true;
                localStorage.setItem(STORAGE_KEY, JSON.stringify(prefs));
                overlay.style.display = 'none';
                applyConsent(prefs);
            }

            /**
             * Applica le preferenze (carica/blocca script).
             * @param {object} prefs 
             */
            function applyConsent(prefs) {
                console.log("Stato Consenso Applica:", prefs);
                
                // --- Logica di Caricamento Script ---

                if (prefs.analytics) {
                    console.log("ANALISI: Il consenso per gli analytics √® stato dato. Carica qui il codice di Google Analytics.");
                    // Esempio: loadGoogleAnalyticsScript();
                } else {
                    console.log("ANALISI: Il consenso per gli analytics √® stato negato.");
                }

                if (prefs.marketing) {
                    console.log("MARKETING: Il consenso per il marketing √® stato dato. Carica qui i Pixel di Facebook/Ads.");
                    // Esempio: loadFacebookPixel();
                } else {
                    console.log("MARKETING: Il consenso per il marketing √® stato negato.");
                }

                // La parte Necessaria (prenotazione) √® sempre attiva per il funzionamento di base.
                console.log("NECESSARI: Le funzionalit√† di booking (necessarie) sono sempre attive.");
            }

            // --- Logica Iniziale ---
            const existingConsent = getConsent();

            if (existingConsent) {
                // Se il consenso esiste, applica le regole immediatamente senza mostrare il banner.
                applyConsent(existingConsent);
            } else {
                // Se il consenso non esiste, mostra il banner bloccando l'interazione.
                overlay.style.display = 'flex';
            }

            // --- Event Listeners ---

            // 1. ACCETTA TUTTO
            acceptAllBtn.addEventListener('click', () => {
                const prefs = {
                    analytics: true,
                    marketing: true
                };
                saveConsent(prefs);
            });

            // 2. RIFIUTA TUTTO
            rejectAllBtn.addEventListener('click', () => {
                const prefs = {
                    analytics: false,
                    marketing: false
                };
                saveConsent(prefs);
            });

            // 3. SALVA PREFERENZE (Granulare)
            savePrefsBtn.addEventListener('click', () => {
                const prefs = {
                    analytics: analyticsCheckbox.checked,
                    marketing: marketingCheckbox.checked
                };
                saveConsent(prefs);
            });
        });
    </script>

</body>
</html>
<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />

  <!-- üì± Mobile Responsive -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <!-- üåê SEO Meta Tags -->
  <meta name="description" content="Magona Bike Garage Bibbona ‚Äì Noleggio E-Bike, tour guidati, officina specializzata e punto ristoro. Scopri la ValdiCecina in sella a una bici!">
  <meta name="keywords" content="Noleggio E-MTB Bibbona, tour guidati, officina biciclette, bike garage Bibbona, riparazione e-bike">
  <meta name="author" content="BibbonaBike">
  <meta name="robots" content="index, follow">

  <title>Magona Bike Garage ‚Äì BibbonaBike</title>

  <!-- üîó Precaricamento risorse -->
  <link rel="preload" as="image" href="img/text.webp" type="image/webp">
  <link rel="preload" as="image" href="img/fulllogo_transparent_nobuffer.webp" type="image/webp">
  

  <!-- üîó Preconnessione ai domini Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- ‚è≥ Precaricamento come stile -->
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Dancing+Script&display=swap">

  <!-- üé® Inclusione dei font con caricamento non bloccante -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Dancing+Script&display=swap" rel="stylesheet" media="all" onload="this.media='all'">
  <noscript>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Dancing+Script&display=swap" rel="stylesheet">
  </noscript>



  <!-- ‚úÖ Open Graph Preview (Facebook, WhatsApp, LinkedIn...) -->
  <meta property="og:title" content="Magona Bike Garage ‚Äì BibbonaBike" />
  <meta property="og:description" content="Noleggio E-Bike, officina e ristoro a Bibbona. Scopri i tour guidati e i nostri servizi!" />
  <meta property="og:image" content="https://bibbonabike.com/img/Magona_Bike_preview.png" />
  <meta property="og:url" content="https://bibbonabike.com" />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="it_IT">
  <meta property="og:site_name" content="BibbonaBike">

  <!-- ‚úÖ Twitter Card (per X/Twitter) -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Magona Bike Garage ‚Äì BibbonaBike" />
  <meta name="twitter:description" content="Noleggio E-Bike, officina e ristoro a Bibbona. Scopri i tour guidati e i nostri servizi!" />
  <meta name="twitter:image" content="https://bibbonabike.com/img/Magona_Bike_preview.png" />
  <meta name="twitter:site" content="@bibbonabike">


  <!-- Font Awesome Icons -->
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"></noscript>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/footer.css" />
  <link rel="stylesheet" href="css/services.css" />
  <link rel="stylesheet" href="css/officina.css" />
  <link rel="stylesheet" href="css/noleggio.css" />
  <link rel="stylesheet" href="css/booking.css" />
  <link rel="stylesheet" href="css/tour.css">
  <link rel="stylesheet" href="css/event.css">
  <link rel="stylesheet" href="css/slideshow.css">
  <link rel="stylesheet" href="css/slideshow_my.css">
  <link rel="stylesheet" href="css/ai-bot.css">
  <link rel="stylesheet" href="css/legend.css">
  <link rel="stylesheet" href="css/GridOverflow3D.min.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="css/ssg.min.css" media="print" onload="this.media='all'">

  <link rel="stylesheet" href="style.css" />
 
  <!-- üñºÔ∏è Favicon -->
  <link rel="icon" href="img/icononly.png" type="image/png" />

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"> </script>


</head>

<body>
    <header class="site-header" id="header">
        <div class="container">
          <img src="img/icononly_transparent_nobuffer.webp" alt="BibbonaBike Logo" class="logo" />
          <img src="img/text.webp" alt="Magona Bike Garage" class="logo logo-text" loading="eager" decoding="async">
          <button class="menu-toggle" id="menuBtn" onclick="toggleMenu()">‚ò∞</button>
          
          <nav>
            <ul>
              <li><a href="#"><i class="fas fa-home"></i> Home</a></li>
              <li><a href="#officina"><i class="fas fa-tools"></i> Assistenza E-Bike</a></li>
              <li><a href="#noleggio"><i class="fas fa-bicycle"></i> Noleggio E-MTB</a></li>
              <li><a href="#tour"><i class="fas fa-map-marked-alt"></i> Tour</a></li>
              <li><a href="#eventi"><i class="fas fa-calendar-alt"></i> Eventi</a></li>
              <li><a href="#footerCredits"><i class="fas fa-info-circle"></i> Info</a></li>
            </ul>
          </nav>

      
          <!-- Spostato dentro per essere gestito dal toggle -->
          <div class="social-header" id="socialIcons">
            <a href="https://wa.me/393313453207" target="_blank" aria-label="WhatsApp">
              <i class="fab fa-whatsapp"></i>
            </a>
            <a href="https://www.instagram.com/magona_bike_garage/" target="_blank" aria-label="Instagram">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="https://www.facebook.com/61555867481698/" target="_blank" aria-label="Facebook">
            <i class="fab fa-facebook"></i>
          </a>
          </div>
          
        </div>
      </header>

    <section class="hero">
      <!-- Video Background -->
      <video autoplay muted loop playsinline preload="auto" class="hero-video">
        <source src="video/video.webm" type="video/webm">
        <source src="video/video.mp4" type="video/mp4">
        <track kind="captions" src="" label="Sottotitoli non disponibili" srclang="it">
        Il tuo browser non supporta i video HTML5.
      </video>
      <!-- Meteo Widget -->
      <div id="weatherWidget" class="weather-widget hidden">
        <img id="weatherIcon" src="" alt="Meteo">
        <span id="weatherTemp">--¬∞C</span>
      </div>
 
      <!-- Contenuto iniziale -->
      <div class="hero-content animated">
        <img src="img/fulllogo_transparent_nobuffer.webp" loading="eager" alt="Magona Bike Garage" class="hero-logo" />
        <div class="hero-text">
          <h1 id="slideshow-title" class="fade-text">Pedala e goditi la splendida natura incontaminata tra i sentieri della ValdiCecina</h1>
          <p> Officina specializzata per E-Bike, diagnosi riparazione e aggiornamento per i motori dei marchi pi√π conosciuti,
            noleggio E-MTB e ristoro a Bibbona, in provincia di Livorno. </p>
          <a href="#noleggio" class="btn-primary scroll-btn">
            <span class="icon-bike">üö¥‚Äç‚ôÇÔ∏è</span> Prenota la tua E-MTB
          </a>
        </div>
      </div>
        <!-- SVG divisione catene montuose -->
        <div class="hero-mountain-overlay">
        <svg viewBox="0 0 1440 320" preserveAspectRatio="none">
          <path fill="currentColor" d="M0,320 
            L200,180 
            L400,300 
            L600,120 
            L800,260 
            L1000,140 
            L1200,280 
            L1440,160 
            L1440,320 
            L0,320 
            Z" />
        </svg>
        </div>
    </section>
  <!-- Sezione servizi -->  
  <main class="container-full">
    <section class="services">
      <h2 class="section-title">I nostri servizi</h2>
      <div class="grid">
        <div class="service-card enhanced">
          <i class="fas fa-bicycle service-icon"></i>
          <h3>Noleggio E-Bike</h3>
          <p>E-Bike pronte per farti esplorare la ValdiCecina...Vi aspettano decine di km di percorsi mtb e strade bianche e tanti panorami mozzafiato</p>
        </div>
        <div class="service-card enhanced">
          <i class="fas fa-tools service-icon"></i>
          <h3>Officina</h3>
          <p>Riparazioni, revisioni e manutenzioni complete per ogni tipo di bici, officina specializzata per E-Bike, aggiornamenti, diagnosi e interventi per ogni tipo di motore.
            Avinox, Bafang, Brose,Bosch,Fazua,FSA,Mahle,OLI,
            Panasonic,Hyena,Polini,Shimano,
            TQ,Yamaha e molti altri!
            La lista √® in continuo aggiornamento!</p>
        </div>
        <div class="service-card enhanced">
          <i class="fas fa-mug-hot service-icon"></i>
          <h3>Ristoro</h3>
          <p>Area relax con caffetteria e snack per rilassarti e ricaricare anche te, non solo la tua bici!</p>
        </div>
        <div class="service-card enhanced">
          <i class='fas fa-compass' style='font-size:48px;color:green'></i>
          <h3>Tour e Corsi</h3>
          <p>Le nostre guide certificate vi accompagneranno nelle vostre avventure e potranno insegnarvi le tecniche di guida pi√π adatte per poter viaggiare in totale sicurezza.</p>
        </div>
      </div>
    </section>
    <!-- üåÑ Slideshow Parallax Motivazionale -->
    <div id="wrapper">
      <section class="slideshow" id="js-header">
        
        <div class="slideshow__slide js-slider-home-slide is-current" data-slide="1">
        <div class="slideshow__slide-background-parallax background-absolute js-parallax" data-speed="-1" data-position="top" data-target="#js-header">
          <div class="slideshow__slide-background-load-wrap background-absolute">
            <div class="slideshow__slide-background-load background-absolute">
              <div class="slideshow__slide-background-wrap background-absolute">
                <div class="slideshow__slide-background background-absolute">
                  <div class="slideshow__slide-image-wrap background-absolute">
                  <div class="slideshow__slide-image background-absolute" style="background-image: url('img/slogan4.webp');"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="slideshow__slide-caption">
          <div class="slideshow__slide-caption-text">
            <div class="container js-parallax" data-speed="2" data-position="top" data-target="#js-header">
              <h1 class="slideshow__slide-caption-title">Tutto ci√≤ che √® rotto pu√≤ essere riparato!</h1>
              <a class="slideshow__slide-caption-subtitle -load o-hsub -link" href="tel:+393313453207">
              <span class="slideshow__slide-caption-subtitle-label">
                <i class="fas fa-phone" style="margin-right: 6px;"></i>Chiamaci!
              </span>
              </a>
            </div>
          </div>
        </div>
      </div>
        
        <div class="slideshow__slide js-slider-home-slide is-next" data-slide="2">
        <div class="slideshow__slide-background-parallax background-absolute js-parallax" data-speed="-1" data-position="top" data-target="#js-header">
          <div class="slideshow__slide-background-load-wrap background-absolute">
            <div class="slideshow__slide-background-load background-absolute">
              <div class="slideshow__slide-background-wrap background-absolute">
                <div class="slideshow__slide-background background-absolute">
                  <div class="slideshow__slide-image-wrap background-absolute">
                  <div class="slideshow__slide-image background-absolute" style="background-image: url('img/slogan3.webp');"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="slideshow__slide-caption">
          <div class="slideshow__slide-caption-text">
            <div class="container js-parallax" data-speed="2" data-position="top" data-target="#js-header">
              <h1 class="slideshow__slide-caption-title">Ogni sentiero √® una storia da vivere</h1>
              <a class="slideshow__slide-caption-subtitle -load o-hsub -link" href="#tour">
                <span class="slideshow__slide-caption-subtitle-label">Scopri di pi√π</span>
              </a>
            </div>
          </div>
        </div>
      </div>
        
        <div class="slideshow__slide js-slider-home-slide is-prev" data-slide="3">
        <div class="slideshow__slide-background-parallax background-absolute js-parallax" data-speed="-1" data-position="top" data-target="#js-header">
          <div class="slideshow__slide-background-load-wrap background-absolute">
            <div class="slideshow__slide-background-load background-absolute">
              <div class="slideshow__slide-background-wrap background-absolute">
                <div class="slideshow__slide-background background-absolute">
                  <div class="slideshow__slide-image-wrap background-absolute">
                  <div class="slideshow__slide-image background-absolute" style="background-image: url('img/slogan5.webp');"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="slideshow__slide-caption">
          <div class="slideshow__slide-caption-text">
            <div class="container js-parallax" data-speed="2" data-position="top" data-target="#js-header">
              <h1 class="slideshow__slide-caption-title">Ehi, prenditi un momento per rilassarti!</h1>
              <a class="slideshow__slide-caption-subtitle -load o-hsub -link" href="https://bsehovac.github.io/the-cube/">
                <span class="slideshow__slide-caption-subtitle-label">Ne abbiamo tutti bisogno</span>
              </a>
            </div>
          </div>
        </div>
      </div>
        
        <div class="c-header-home_footer">
        <div class="o-container">
          <div class="c-header-home_controls -nomobile o-button-group">
            <div class="js-parallax is-inview" data-speed="1" data-position="top" data-target="#js-header">
            <button class="o-button -white -square -left js-slider-home-button js-slider-home-prev" type="button"
                    aria-label="Slide precedente" title="Slide precedente">

                <span class="o-button_label">
                  <svg class="o-button_icon" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-prev"></use></svg>
                </span>
              </button>
              <button class="o-button -white -square js-slider-home-button js-slider-home-next" type="button"
                      aria-label="Slide successiva" title="Slide successiva">

                <span class="o-button_label">
                  <svg class="o-button_icon" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-next"></use></svg>
                </span>
              </button>
            </div>
          </div>
        </div>
      </div>
      
        
      </section>
    <div>
    <!-- SVG per le frecce di navigazione -->
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <symbol viewBox="0 0 18 18" id="arrow-next">
            <path id="arrow-next-arrow.svg" d="M12.6,9L4,17.3L4.7,18l8.5-8.3l0,0L14,9l0,0l-0.7-0.7l0,0L4.7,0L4,0.7L12.6,9z"></path>
        </symbol>
        <symbol viewBox="0 0 18 18" id="arrow-prev">
            <path id="arrow-prev-arrow.svg" d="M14,0.7L13.3,0L4.7,8.3l0,0L4,9l0,0l0.7,0.7l0,0l8.5,8.3l0.7-0.7L5.4,9L14,0.7z"></path>
        </symbol>
    </svg>

    <!-- Sezione OFFICINA -->
    <section class="officina-section" id="officina">
      <div id="officina-title-anchor"></div> <!-- ‚¨ÖÔ∏è Punto di ancoraggio visibile al JS -->
      <h2 class="section-title"><i class="fas fa-tools"></i> Officina</h2>
        <!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BibbonaBike.com - Officina e Noleggio</title>
    
    <link rel="stylesheet" href="css/motori.css"> 
</head>
<body>

    
    <section class="logo-carousel-section">
        <div class="logo-carousel-container">
            <div class="logo-carousel-track">
                
                <div class="logo-slide"><img src="img/logo-bosch.png" alt="Logo Bosch"></div>
                <div class="logo-slide"><img src="img/logo-shimano.png" alt="Logo Shimano"></div>
                <div class="logo-slide"><img src="img/logo-yamaha.png" alt="Logo Yamaha"></div>
                <div class="logo-slide"><img src="img/logo-avinox.png" alt="Logo Avinox"></div>
                <div class="logo-slide"><img src="img/logo-tq.png" alt="Logo TQ"></div>
                <div class="logo-slide"><img src="img/logo-hyena.png" alt="Logo Hyena"></div>
                <div class="logo-slide"><img src="img/logo-fsa.png" alt="Logo FSA"></div>
                <div class="logo-slide"><img src="img/logo-oli.png" alt="Logo Oli"></div>
                <div class="logo-slide"><img src="img/logo-polini.png" alt="Logo Polini"></div>
                <div class="logo-slide"><img src="img/logo-panasonic.png" alt="Logo Panasonic"></div>
                <div class="logo-slide"><img src="img/logo-mahle.png" alt="Logo Mahle"></div>
                <div class="logo-slide"><img src="img/logo-bafang.png" alt="Logo Bafang"></div>

                
                <div class="logo-slide"><img src="img/logo-bosch.png" alt="Logo Bosch"></div>
                <div class="logo-slide"><img src="img/logo-shimano.png" alt="Logo Shimano"></div>
                <div class="logo-slide"><img src="img/logo-yamaha.png" alt="Logo Yamaha"></div>
                <div class="logo-slide"><img src="img/logo-avinox.png" alt="Logo Avinox"></div>
                <div class="logo-slide"><img src="img/logo-tq.png" alt="Logo TQ"></div>
                <div class="logo-slide"><img src="img/logo-hyena.png" alt="Logo Hyena"></div>
                <div class="logo-slide"><img src="img/logo-fsa.png" alt="Logo FSA"></div>
                <div class="logo-slide"><img src="img/logo-oli.png" alt="Logo Oli"></div>
                <div class="logo-slide"><img src="img/logo-polini.png" alt="Logo Polini"></div>
                <div class="logo-slide"><img src="img/logo-panasonic.png" alt="Logo Panasonic"></div>
                <div class="logo-slide"><img src="img/logo-mahle.png" alt="Logo Mahle"></div>
                <div class="logo-slide"><img src="img/logo-bafang.png" alt="Logo Bafang"></div>

                
                <div class="logo-slide"><img src="img/logo-bosch.png" alt="Logo Bosch"></div>
                <div class="logo-slide"><img src="img/logo-shimano.png" alt="Logo Shimano"></div>
                <div class="logo-slide"><img src="img/logo-yamaha.png" alt="Logo Yamaha"></div>
                <div class="logo-slide"><img src="img/logo-avinox.png" alt="Logo Avinox"></div>
                <div class="logo-slide"><img src="img/logo-tq.png" alt="Logo TQ"></div>
                <div class="logo-slide"><img src="img/logo-hyena.png" alt="Logo Hyena"></div>
                <div class="logo-slide"><img src="img/logo-fsa.png" alt="Logo FSA"></div>
                <div class="logo-slide"><img src="img/logo-oli.png" alt="Logo Oli"></div>
                <div class="logo-slide"><img src="img/logo-polini.png" alt="Logo Polini"></div>
                <div class="logo-slide"><img src="img/logo-panasonic.png" alt="Logo Panasonic"></div>
                <div class="logo-slide"><img src="img/logo-mahle.png" alt="Logo Mahle"></div>
                <div class="logo-slide"><img src="img/logo-bafang.png" alt="Logo Bafang"></div>

            </div>
        </div>
    </section>

    <div id="cookie-banner-overlay">
        <div id="cookie-consent-modal">
            <h2>Gestione Cookie per BibbonaBike.com</h2>
            <p>
                Utilizziamo i cookie per garantirti la migliore esperienza di noleggio e prenotazione. Puoi scegliere quali categorie accettare:
            </p>
            <div class="cookie-category">
                <label>
                    <input type="checkbox" id="cookie-necessary" checked disabled>
                    <span>Cookie Tecnici e Necessari</span>
                </label>
                <div class="description">
                    Essenziali per il funzionamento del sito (es. carrello, login, sicurezza, gestione della prenotazione). Non possono essere disattivati.
                </div>
            </div>

            <div class="cookie-category">
                <label for="cookie-analytics">
                    <input type="checkbox" id="cookie-analytics" data-cookie-type="analytics">
                    <span>Cookie Statistici e Analitici</span>
                </label>
                <div class="description">
                    Ci aiutano a capire come i visitatori interagiscono con il sito e a migliorarlo (es. Google Analytics).
                </div>
            </div>

            <div class="cookie-category">
                <label for="cookie-marketing">
                    <input type="checkbox" id="cookie-marketing" data-cookie-type="marketing">
                    <span>Cookie di Marketing e Profilazione</span>
                </label>
                <div class="description">
                    Utilizzati per mostrarti annunci pertinenti sui social media o altri siti web.
                </div>
            </div>

            <p style="margin-top: 20px;">
                Per maggiori dettagli, consulta la nostra <a href="/privacy-policy" target="_blank" style="color: #e67e22;">Privacy e Cookie Policy</a>.
            </p>

            <div class="cookie-actions">
                <button id="reject-all-btn">Rifiuta Tutto</button>
                <button id="save-prefs-btn">Salva Preferenze</button>
                <button id="accept-all-btn">Accetta Tutto</button>
            </div>
        </div>
    </div>


    <script src="js/motori.js"></script> 
</body>
</html>
      <div class="officina-content">
        <div class="feature" id="bikeFeature">
          <img src="img/frame3@2x.webp" alt="Telaio bici" class="feature__frame">
          <img src="img/wheel-magona.png" alt="Ruota posteriore" class="feature__wheel feature__wheel--rear">
          <img src="img/wheel-magona.png" alt="Ruota anteriore" class="feature__wheel feature__wheel--front">
        </div>

        <div class="officina-text">
        <p id="officinaText" style="white-space: pre-wrap;"></p>

          <div class="officina-buttons" style="margin-top: 1.2rem; display: flex; gap: 1rem; align-content: space-between; flex-direction: row; align-items: center; flex-wrap: wrap; justify-content: center;">
            <span id="phoneLink"></span>
            <span id="whatsappLink"></span>
            <span id="mapLink"></span>
          </div>
        </div>
      </div>
    </section>


    <!-- Sezione Noleggio -->
    <section class="rental-section">
      <h2 class="section-title"><i class="fas fa-bicycle"></i> Noleggio E-Bike</h2>
      <div class="bike-grid">
        <div class="bike-card">
          <img src="img/ebikeHD.png" alt="FULL Bike" />
          <div class="bike-info">
            <h3 class="animated-price">
              <div class="price-show">50,00‚Ç¨</div>
              <div class="price-slide"><span>| giorno</span></div>
            </h3>

            <p class="bike-type">E-BIKE</p>
            <a href="#prenota" class="btn-secondary bike-select" data-bike="E-BIKE" aria-label="Seleziona bici E-BIKE">SELEZIONA ¬ª</a>
          </div>
        </div>
    </section>

    <!-- TOUR SECTION -->
    <section class="tour-section" id="tour">
      <div class="tour-slideshow">
        <div class="tour-slide active" style="background-image: url('img/tour1.webp');"></div>
        <div class="tour-slide" style="background-image: url('img/tour2.webp');"></div>
        <div class="tour-slide" style="background-image: url('img/tour3.webp');"></div>
      </div>
      <div class="tour-overlay">
        <h2 class="section-title tour-title"><i class="fas fa-route"></i> Tour Con Guide Certificate</h2>
        <div class="tour-cards">
          <!-- Le card verranno generate dinamicamente da JS -->
        </div>
        <button id="showMoreTours" class="btn-primary" aria-expanded="false">
          <i class="fas fa-chevron-down rotate-icon rotate-down"></i> Mostra altri tour
        </button>
      </div>
    </section>
    <!-- === TOUR DRAWER OVERLAY === -->
    <div id="tourDrawerOverlay" class="drawer-overlay hidden"></div>

    <!-- === TOUR DRAWER === -->
    <div id="tourDrawer" class="drawer hidden">
      <button class="drawer-close" id="tourDrawerClose">&times;</button>
      <div class="drawer-content">
      <img id="tourDrawerImage" src="" alt="Anteprima del tour" />

        <h3 id="tourDrawerTitle">Titolo Tour</h3>
        <div class="durata-wrapper">
          <strong>Durata:</strong>
          <span id="tourDrawerDuration">0h</span>
          <div class="durata-bar">
            <div id="durataBarFill" class="durata-fill"></div>
          </div>
        </div>
        <div class="distanza-wrapper">
          <strong>Distanza:</strong>
          <span id="tourDrawerDistance">31 km</span>
          <div class="map-icon-wrapper">
            <!-- Sentiero con segnapunto animato -->
            <svg class="sentiero-svg" viewBox="0 0 100 40" width="100" height="40">
              <!-- Percorso -->
              <path id="sentieroPath" d="M0 35 Q25 5, 50 25 T100 15" stroke="#888" fill="none" stroke-width="2" stroke-dasharray="4 2"/>

              <!-- Bicicletta -->
              <g transform="translate(-25, -25) scale(0.5)">
                <animateMotion dur="4s" repeatCount="indefinite" rotate="auto">
                  <mpath href="#sentieroPath" />
                </animateMotion>
                <!-- Ruote -->
                <circle cx="20" cy="40" r="12" stroke="#00796b" stroke-width="3" fill="white" />
                <circle cx="60" cy="40" r="12" stroke="#00796b" stroke-width="3" fill="white" />
                <!-- Telaio -->
                <line x1="20" y1="40" x2="35" y2="25" stroke="#00796b" stroke-width="3" /> <!-- posteriore -->
                <line x1="35" y1="25" x2="50" y2="25" stroke="#00796b" stroke-width="3" /> <!-- tubo orizzontale -->
                <line x1="50" y1="25" x2="60" y2="40" stroke="#00796b" stroke-width="3" /> <!-- anteriore -->
                <line x1="35" y1="25" x2="35" y2="40" stroke="#00796b" stroke-width="3" /> <!-- tubo verticale -->
                <!-- Pedali -->
                <circle cx="35" cy="40" r="2" fill="#00796b" />
                <line x1="33" y1="38" x2="31" y2="36" stroke="#00796b" stroke-width="2" />
                <line x1="37" y1="42" x2="39" y2="44" stroke="#00796b" stroke-width="2" />
                <!-- Manubrio -->
                <line x1="50" y1="25" x2="52" y2="15" stroke="#00796b" stroke-width="2" />
                <line x1="52" y1="15" x2="47" y2="15" stroke="#00796b" stroke-width="2" /> <!-- manubrio orizzontale -->
                <!-- Sella -->
                <line x1="35" y1="25" x2="33" y2="20" stroke="#00796b" stroke-width="2" />
                <line x1="33" y1="20" x2="37" y2="20" stroke="#00796b" stroke-width="2" /> <!-- sella -->
              </g>
            </svg>
          </div>
        </div>


        <div class="drawer-row">
          <strong>Dislivello:</strong>
          <span id="tourDrawerElevation">0 m</span>
          <div class="mini-elevation">
            <svg viewBox="0 0 100 30" preserveAspectRatio="none">
              <polyline id="elevationPath"
                points="0,30 10,25 20,10 30,20 40,8 50,18 60,6 70,15 80,5 90,12 100,6"
                fill="none"
                stroke="#4caf50"
                stroke-width="2"
              />
            </svg>
          </div>
        </div>
       <p><strong>Prezzo:</strong> <span id="tourDrawerPrice"></span></p>
        <!-- ‚úÖ Barra di difficolt√† -->
        <div class="drawer-difficulty">
          <span><strong>Difficolt√†:</strong> <span id="difficultyLabel">‚Äì</span></span>
          <div class="difficulty-bar">
            <div id="difficultyLevel" class="difficulty-fill"></div>
          </div>
        </div>

        <p id="tourDrawerDescription">Descrizione dettagliata del tour...</p>

        <div class="drawer-buttons">
          <a href="#noleggio" class="btn-primary scroll-btn" id="tourDrawerBook">Prenota</a>
          <a href="#" class="btn-primary" id="tourDrawerWhatsApp" target="_blank">
            <i class="fab fa-whatsapp"></i> WhatsApp
          </a>
          <a href="#" class="btn-primary" id="tourDrawerEmail">
            <i class="fas fa-envelope"></i> Email
          </a>
        </div>
      </div>
    </div>


    <!-- SEZIONE EVENTI / CORSI via json file event.json -->
    <section class="eventi-slider-section" id="eventi">
      <div class="container-full">
      <div class="section-title-wrapper">
        <h2 class="section-title"><i class="fas fa-calendar-alt"></i> Corsi / Eventi</h2>
        <div class="slash-anim"></div>
      </div>

          <div class="eventi-slider"></div>
      </div>
    </section>
    <!-- Drawer per i dettagli dell'evento -->
    <div id="drawerOverlay" class="drawer-overlay hidden"></div>
    <div id="eventoDrawer" class="drawer hidden">
      <button id="eventoDrawerClose" class="drawer-close">√ó</button>
      <div class="drawer-content">
        <img id="drawerImage" src="" alt="Evento">
        <h3 id="drawerTitle"></h3>
        <p><strong>üìÖ Data:</strong> <span id="drawerDate"></span></p>
        <p><strong>üïí Orario:</strong> <span id="drawerTime"></span></p>
        <p><strong>üí∂ Prezzo:</strong> <span id="drawerPrice"></span></p>
        <p id="drawerDescription"></p>
        <div class="drawer-buttons">
          <a id="drawerBook" href="#noleggio" class="btn-primary">Prenota</a>
          <a id="drawerWhatsApp" target="_blank" class="btn-primary"><i class="fab fa-whatsapp"></i> Chat su WhatsApp</a>
          <a id="drawerCall" href="tel:+393313453207" class="btn-primary"><i class="fas fa-phone"></i> Chiama</a>
          <a id="drawerEmail" class="btn-primary"><i class="fas fa-envelope"></i> Email</a>
        </div>
      </div>
    </div>
    <!-- üåå SEZIONE STORIE & LEGGENDE -->

    <!-- 2Ô∏è‚É£  SECTION: Galleria Foto ---------------------------------------------------- -->
    <section class="photo-slideshow" id="galleria">
      <h2 class="section-title"><i class="fas fa-images"></i> Galleria</h2>
      <div id="photoGallery" class="gridOverflow go-zoomFx go-masonry"></div>
      <div class="slideshow-controls">
        <button id="toggleLayout" class="btn-secondary layout-toggle" aria-pressed="true" aria-label="Cambia layout a griglia" title="Griglia">
          <i class="fas fa-th"></i> <span class="label">Griglia</span> </button>
        <button id="changeThemeButton" class="btn-secondary layout-toggle" aria-pressed="false" aria-label="Cambia tema della lightbox" title="Tema">
          <i class="fas fa-palette"></i>
          <span class="label">Tema</span>
        </button>
      </div>
    </section>

    <!-- FORM Noleggio / prenotazione -->
    <section class="form-section" id="noleggio"> 
      <div class="container-full">
        <h2 class="section-title"><i class="fas fa-calendar-check"></i> Prenota ora</h2>

        <form id="noleggioForm" class="form-card">
          <div class="form-group icon-input">
            <label for="name">Nome e Cognome *</label>
            <i class="fa fa-user"></i>
            <input type="text" id="name" name="name" autocomplete="name" required />
          </div>

          <div class="form-group icon-input">
            <label for="email">Email *</label>
            <i class="fa fa-envelope"></i>
            <input type="email" id="email" name="email" autocomplete="email" required />
          </div>

          <div class="form-group icon-input">
            <label for="bikeType">Tipo di bici *</label>
            <i class="fa fa-bicycle"></i>
            <select id="bikeType" name="bikeType" required>
              <option value="">Seleziona</option> <option value="E-BIKE">E-BIKE</option>
              
              </select>
          </div>

          <div id="accessoriesGroup" style="display: none; margin-top: 1rem;">
            <h4 style="margin-bottom: 0.8rem; color: #333; font-weight: bold;">Accessori disponibili:</h4>

            <div class="form-group accessory-option">
              <label>
                <input type="checkbox" name="accessories" value="carrello" />
                <img src="img/carrello_bambini.webp" alt="Carrello bambini" class="accessory-image">
                Carrello bambini (+7‚Ç¨)
              </label>
            </div>

            <div class="form-group accessory-option">
              <label>
                <input type="checkbox" name="accessories" value="shotgun" />
                <img src="img/kids_shotgun.webp" alt="Seggiolino Shotgun" class="accessory-image">
                Seggiolino Shotgun (+15‚Ç¨)
              </label>
            </div>
          </div>


          <div class="form-group icon-input">
            <label for="quantity">Quantit√† *</label>
            <i class="fa fa-plus"></i>
            <input type="number" id="quantity" name="quantity" value="1" min="1" required />
          </div>

          <div class="form-group icon-input">
            <label for="date">Data *</label>
            <i class="fa fa-calendar-alt"></i>
            <input type="date" id="date" name="date" autocomplete="bday" required>
          </div>

          <div class="form-group icon-input">
            <label for="duration">Durata *</label>
            <i class="fa fa-clock"></i>
            <select id="duration" name="duration" required>
              <option value="0.5">¬Ω giornata</option>
              <option value="1">1 giorno</option>
              <option value="2">2 giorni</option>
              <option value="3">3 giorni</option>
              <option value="4">4 giorni</option>
              <option value="5">5 giorni</option>
              <option value="6">6 giorni</option>
              <option value="7">7 giorni</option>
            </select>
          </div>

          <div class="form-group tour-field-container" id="tourField" style="display: none;">
            <label for="tourSelected">Tour selezionato</label>
            <div class="tour-input-wrapper">
              <i class="fa fa-map-marked-alt"></i>
              <input type="text" id="tourSelected" name="tourSelected" readonly />
              </div>
          </div>
          <div class="form-group icon-input" id="eventField" style="display: none;">
            <label for="eventSelected">Evento Selezionato</label>
            <div class="event-input-wrapper"> <i class="fas fa-calendar-check" aria-hidden="true"></i>
              <input type="text" id="eventSelected" name="eventSelected" readonly />
              </div>
          </div>

          <input type="hidden" id="eventIdHidden" name="eventIdHidden" value="" />
          
          <div class="form-group icon-input">
            <label for="notes">Note (altezza, attrezzature richieste)</label>
            <i class="fa fa-pen"></i>
            <textarea id="notes" name="notes"></textarea>
          </div>
          <div class="form-group icon-input">
            <label for="codiceSconto">Codice Sconto</label>
            <i class="fas fa-tag"></i>
            <input type="text" id="codiceSconto" name="codiceSconto"/>
          </div>

          <p class="price-summary">
            <strong>Totale:</strong> ‚Ç¨<span id="totalAmount">0.00</span>
            <input type="hidden" name="total" id="totalHidden" value="0.00">
          </p>
          <div class="form-group">
            <div id="hcaptcha" class="h-captcha" data-sitekey="ccc4c746-e570-44b8-9aaa-287629b21dc0"></div>
          </div>
          <button type="submit" class="btn-primary">üì© Invia richiesta</button>
          <p id="responseMessage"></p>
        </form>
        <div id="paypalPlaceholder" style="margin-top: 20px; text-align: center;"></div>
      </div>
    </section>

  </main>

  <section class="footer-transition"></section>
<!-- Sezione Contatti -->  
<footer>
  <div class="footerhero">
    <!-- Parallax layers -->
    <div class="parallax-layer layer-6"></div>
    <div class="parallax-layer layer-5"></div>
    <div class="parallax-layer layer-4"></div>
    <div class="parallax-layer bike-1"></div>
    <div class="parallax-layer bike-2"></div>
    <div class="parallax-layer bike-3"></div>
    <div class="parallax-layer bike-4"></div>
    <div class="parallax-layer layer-3"></div>
    <div class="parallax-layer layer-2"></div>
    <div class="parallax-layer layer-1"></div>
    <div id="footerCredits" class="footer-phrases"></div>

    <!-- ‚úÖ Contenuto statico del footer -->
    <div class="footer-overlay hidden">
      <div class="footer-bar">
        <img src="img/fulllogo_transparent_nobuffer.webp" alt="Magona Bike Garage" />
        <p>
          <a href="https://www.google.com/maps/place/Via+del+Mandorlo,+1,+57020+Bibbona+LI" 
            target="_blank" 
            style="color: inherit; text-decoration: none;">
          <i class="fas fa-map-marker-alt animated-icon"></i> Via del Mandorlo 1, Bibbona¬†57020
          </a>
        </p>
        <p>&copy; 2025 Magona Bike Garage ‚Äì BibbonaBike.com</p>
        <div class="footer-social">
          <a href="https://wa.me/393313453207" target="_blank" aria-label="WhatsApp">
            <i class="fab fa-whatsapp"></i>
          </a>
          <a href="https://www.instagram.com/magona_bike_garage/" target="_blank" aria-label="Instagram">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="https://www.facebook.com/61555867481698/" target="_blank" aria-label="Facebook">
            <i class="fab fa-facebook"></i>
          </a>
        </div>
      </div>

    </div>
  </div>
</footer>

<!-- ‚Üë Pulsante Scroll to Top -->
<button id="scrollToTop" aria-label="Torna su">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="20" height="20">
    <path d="M12 4l-8 8h5v8h6v-8h5z"/>
  </svg>
</button>

<!-- Widget Chat BibbonaBike -->
        <div id="chatWidget">
            <button id="chatToggle" aria-label="Apri o chiudi la chat" title="Chat AI">
                <div class="ai-bot">
                    <div class="head">
                        <div class="face">
                            <div class="eyes"> </div>
                            <div class="mouth"> </div>
                        </div>
                    </div>
                </div>
            </button>
            <div id="chatBox" class="hidden">
                <div id="chatMessages"></div>
                <textarea id="chatInput" placeholder="Scrivi una domanda..."></textarea>
                <button id="chatSend">Invia</button>
            </div>
        </div>

<!-- ‚úÖ JS Scroll to Top + Reveal Footer -->
<script>
  // Scroll to Top
  const scrollBtn = document.getElementById("scrollToTop");
  window.addEventListener("scroll", () => {
    scrollBtn.style.display = window.scrollY > 300 ? "block" : "none";
  });
  scrollBtn.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });

  // Reveal footer
  document.addEventListener("DOMContentLoaded", () => {
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.remove("hidden");
          entry.target.classList.add("visible");
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.4 });

    const footer = document.querySelector('.footer-overlay');
    if (footer) observer.observe(footer);
  });
</script>
<script>
  // Lazy load hCaptcha script :D antispammoni
  const hcaptchaContainer = document.getElementById("hcaptcha");

  if ("IntersectionObserver" in window && hcaptchaContainer) {
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting && !document.getElementById("hcaptcha-script")) {
          const script = document.createElement("script");
          script.src = "https://js.hcaptcha.com/1/api.js";
          script.async = true;
          script.defer = true;
          script.id = "hcaptcha-script";
          document.head.appendChild(script);
          observer.unobserve(hcaptchaContainer);
        }
      });
    });
    observer.observe(hcaptchaContainer);
  }
</script>


  <!-- Galleria immagini core -->
  <script src="js/ssg.min.js"></script>
  <!--  Libreria per info foto metadata EXIF info  -->
  <script src="https://cdn.jsdelivr.net/npm/exifr@7/dist/lite.umd.js"></script>

  <script src="js/nav_min.js"></script>
  <script src="js/slogan.js"></script>
  <script src="js/tour.js"></script>
  <script src="js/booking.js"></script>
  <script src="js/event.js"></script>
  <script src="js/slideshow.js"></script>
  <script src="js/typewrite.js"></script>
  <script src="js/bike.js"></script>
  <script src="js/chat.js"></script>
  <script src="js/weather.js"></script>
  <script src="js/contactButton.js"></script>
  <script src="js/slideshow_my.js"></script>




  <script>
    // Animazione apparizione del form
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, {
      threshold: 0.2
    });
  
    const formCard = document.querySelector('.form-card');
    if (formCard) observer.observe(formCard);
  </script>

  <script>
  // Slideshow automatica
  let tourSlides = document.querySelectorAll('.tour-slide');
  let currentTour = 0;
  setInterval(() => {
    tourSlides[currentTour].classList.remove('active');
    currentTour = (currentTour + 1) % tourSlides.length;
    tourSlides[currentTour].classList.add('active');
  }, 5000);
</script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const message = document.getElementById("chiSiamoScroll");
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          message.style.animationPlayState = "running";
        }
      });
    }, { threshold: 0.5 });

    if (message) {
      message.style.animationPlayState = "paused"; // di default fermo
      observer.observe(message);
    }
  });
</script>


<script>
  // Mostra il widget chat quando il footer √® visibile
  const chatWidget = document.getElementById("chatWidget");
  const footer = document.querySelector("footer");

  const chatFooterObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        chatWidget.classList.add("visible");
      } else {
        chatWidget.classList.remove("visible");
      }
    });
  }, {
    threshold: 0.3
  });

  if (footer) chatFooterObserver.observe(footer);
document.addEventListener("DOMContentLoaded", () => {
  const chatWidget = document.getElementById("chatWidget");
  const footer = document.querySelector("footer");

  const chatFooterObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        chatWidget.classList.add("visible");
      } else {
        chatWidget.classList.remove("visible");
      }
    });
  }, {
    threshold: 0.3
  });

  if (footer) chatFooterObserver.observe(footer);
});
</script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const h2List = document.querySelectorAll("h2.section-title");

      h2List.forEach(h2 => {
        // Avvolgi ogni h2 in un contenitore
        const wrapper = document.createElement("div");
        wrapper.classList.add("section-title-wrapper");
        h2.parentNode.insertBefore(wrapper, h2);
        wrapper.appendChild(h2);

        // Aggiungi barra slash
        const slash = document.createElement("div");
        slash.classList.add("slash-anim");
        if (h2.classList.contains("tour-title")) {
          slash.style.backgroundColor = "#fff"; // Slash bianco per Tour
        }
        wrapper.appendChild(slash);
      });

      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const h2 = entry.target;
            const wrapper = h2.parentElement;
            const slash = wrapper.querySelector(".slash-anim");

            // Attiva animazione
            slash.style.left = "120%";
            slash.style.opacity = "1";

            setTimeout(() => {
              h2.classList.add("visible");
            }, 400);

            setTimeout(() => {
              slash.style.opacity = "0";
            }, 800);

            observer.unobserve(h2); // Anima una volta sola
          }
        });
      }, { threshold: 0.5 });

      document.querySelectorAll("h2.section-title").forEach(h2 => {
        observer.observe(h2);
      });
    });
    </script>

</body>
      <!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Esempio di Banner GDPR</title>
    <style>
        /*
        * 1. Stile CSS per il Banner GDPR
        */
        #gdpr-banner {
            position: fixed; /* Lo fissa in una posizione */
            bottom: 0; /* Lo posiziona in basso */
            left: 0;
            width: 100%;
            background-color: #2c3e50; /* Sfondo scuro */
            color: white; /* Testo bianco */
            padding: 15px 20px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
            z-index: 1000; /* Assicura che sia sopra gli altri elementi */
            display: none; /* Inizialmente nascosto, verr√† mostrato dal JavaScript */
            font-family: Arial, sans-serif;
            line-height: 1.4;
        }

        #gdpr-banner .content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap; /* Permette il wrap su schermi piccoli */
        }

        #gdpr-banner p {
            margin: 0;
            padding-right: 20px; /* Spazio tra testo e pulsante */
            flex-grow: 1;
        }

        #gdpr-banner a {
            color: #3498db; /* Colore per i link (es. privacy policy) */
            text-decoration: none;
            font-weight: bold;
        }

        #gdpr-banner a:hover {
            text-decoration: underline;
        }

        #gdpr-accept-btn {
            background-color: #2ecc71; /* Sfondo del pulsante verde */
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
            transition: background-color 0.3s;
            margin-top: 5px; /* Spazio verticale su mobile */
        }

        #gdpr-accept-btn:hover {
            background-color: #27ae60;
        }

        /* Regole per schermi pi√π piccoli */
        @media (max-width: 768px) {
            #gdpr-banner .content {
                flex-direction: column;
                align-items: flex-start;
            }
            #gdpr-banner p {
                padding-right: 0;
                margin-bottom: 10px;
            }
        }
    </style>
<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Esempio di Banner GDPR con Rifiuta</title>
    <style>
        /*
        * 1. Stile CSS per il Banner GDPR
        */
        #gdpr-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #2c3e50;
            color: white;
            padding: 15px 20px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: none;
            font-family: Arial, sans-serif;
            line-height: 1.4;
        }

        #gdpr-banner .content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        #gdpr-banner p {
            margin: 0;
            padding-right: 20px;
            flex-grow: 1;
        }

        #gdpr-banner a {
            color: #3498db;
            text-decoration: none;
            font-weight: bold;
        }

        #gdpr-banner a:hover {
            text-decoration: underline;
        }

        /* Contenitore per i pulsanti */
        .gdpr-actions {
            display: flex;
            gap: 10px; /* Spazio tra i pulsanti */
            margin-top: 5px;
        }

        /* Stile comune per i pulsanti */
        .gdpr-btn {
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
            transition: background-color 0.3s, opacity 0.3s;
        }

        /* Stile specifico per il pulsante ACCETTA */
        #gdpr-accept-btn {
            background-color: #2ecc71; /* Verde */
            color: white;
        }

        #gdpr-accept-btn:hover {
            background-color: #27ae60;
        }

        /* Stile specifico per il pulsante RIFIUTA */
        #gdpr-reject-btn {
            background-color: #e74c3c; /* Rosso */
            color: white;
        }

        #gdpr-reject-btn:hover {
            background-color: #c0392b;
        }

        /* Regole per schermi pi√π piccoli */
        @media (max-width: 768px) {
            #gdpr-banner .content {
                flex-direction: column;
                align-items: flex-start;
            }
            #gdpr-banner p {
                padding-right: 0;
                margin-bottom: 10px;
            }
            .gdpr-actions {
                width: 100%;
                justify-content: space-around; /* Spazia i pulsanti su mobile */
            }
        }
    </style>
<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Banner GDPR per Noleggio e Prenotazioni</title>
    <style>
        /*
        * 1. Stile CSS per il Banner GDPR
        */
        #gdpr-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            /* Tonalit√† pi√π calda per richiamare il marchio */
            background-color: #34495e; 
            color: white;
            padding: 15px 20px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: none;
            font-family: Arial, sans-serif;
            line-height: 1.4;
        }

        #gdpr-banner .content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        #gdpr-banner p {
            margin: 0;
            padding-right: 20px;
            flex-grow: 1;
        }

        #gdpr-banner a {
            color: #f1c40f; /* Giallo/Arancione per i link */
            text-decoration: none;
            font-weight: bold;
        }

        #gdpr-banner a:hover {
            text-decoration: underline;
        }

        #gdpr-accept-btn {
            background-color: #e67e22; /* Arancione (per l'azione principale) */
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
            transition: background-color 0.3s;
            /* Per evitare che il bottone si sovrapponga su schermi piccoli */
            min-width: 100px; 
            text-align: center;
            margin-top: 5px; 
        }

        #gdpr-accept-btn:hover {
            background-color: #d35400;
        }

        /* Regole per schermi pi√π piccoli */
        @media (max-width: 768px) {
            #gdpr-banner .content {
                flex-direction: column;
                align-items: flex-start;
            }
            #gdpr-banner p {
                padding-right: 0;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="gdpr-banner">
        <div class="content">
            <p>
                Per poter procedere con la **prenotazione e il noleggio delle nostre e-bike** e per garantirti un servizio efficiente (es. invio della conferma, gestione del pagamento, ecc.), dobbiamo trattare alcuni dati personali. 
                **Senza il tuo consenso non sar√† possibile prestare i servizi di noleggio e prenotazione richiesti.** Cliccando su "Accetto", acconsenti al trattamento dei dati necessari per l'erogazione dei servizi.
                <a href="/privacy-policy" target="_blank">Leggi l'informativa completa.</a>
            </p>
            <button id="gdpr-accept-btn">Accetto e Procedo</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const banner = document.getElementById('gdpr-banner');
            const acceptBtn = document.getElementById('gdpr-accept-btn');
            const cookieName = 'gdpr_accepted_service'; 

            /**
             * Controlla se il cookie di consenso esiste.
             * @returns {boolean}
             */
            function hasGdprCookie() {
                // Semplice controllo: cerca la stringa 'gdpr_accepted_service=true' nei cookie
                return document.cookie.includes(cookieName + '=true');
            }

            /**
             * Imposta il cookie di consenso e nasconde il banner.
             */
            function setGdprCookie() {
                // Imposta un cookie che scade dopo 365 giorni
                const date = new Date();
                date.setTime(date.getTime() + (365 * 24 * 60 * 60 * 1000));
                const expires = "; expires=" + date.toUTCString();
                document.cookie = cookieName + "=true" + expires + "; path=/; SameSite=Lax";
                
                // Nasconde il banner
                banner.style.display = 'none';

                // DA FARE QUI: Dopo l'accettazione, abilita le funzionalit√† del carrello, la pagina di checkout, 
                // e carica eventuali script necessari al funzionamento del booking engine.
                console.log("Consenso ACCETTATO per l'erogazione dei servizi. Abilito la funzione di prenotazione.");
                
                // ESEMPIO: Se hai una funzione per abilitare il form di prenotazione:
                // enableBookingForm();
            }

            // 1. Controlla se l'utente ha gi√† accettato
            if (!hasGdprCookie()) {
                // Se non ha accettato, mostra il banner
                banner.style.display = 'block';
            } else {
                 console.log("Consenso gi√† presente. Funzionalit√† di prenotazione abilitata.");
                 // DA FARE QUI: Assicurati che le funzionalit√† di prenotazione siano attive
                 // enableBookingForm();
            }

            // 2. Aggiungi l'event listener al pulsante
            acceptBtn.addEventListener('click', setGdprCookie);
        });
    </script>

</body>
</html>































