/*!  GALLERY - Story Show Gallery
 *  Version: 1.0.1 by aken
*/ var SSG={};SSG.cfg={},SSG.cfg.scrollDuration=500,SSG.cfg.alwaysFullscreen=!1,SSG.cfg.neverFullscreen=!1,SSG.cfg.mobilePortraitFS=!1,SSG.cfg.forceLandscapeMode=!1,SSG.cfg.theme="dark",SSG.cfg.crossCursor=!1,SSG.cfg.fileToLoad=null,SSG.cfg.socialShare=!0,SSG.cfg.hideImgCaptions=!1,SSG.cfg.enlargeImg=!1,SSG.cfg.sharpenEnlargedImg=!0,SSG.cfg.captionExif="none",SSG.cfg.fillExifBlanks=["unknown lens","unknown lens","","","-"],SSG.cfg.bgOpacity=100,SSG.cfg.fontSize=100,SSG.cfg.rightClickProtection=!0,SSG.cfg.preferedCaptionLocation=3,SSG.cfg.sideCaptionforSmallerLandscapeImg=!1,SSG.cfg.globalAuthorCaption="",SSG.cfg.narrowCaptionsAlignThreshold=-111,SSG.cfg.wideCaptionsAlignThreshold=-222,SSG.cfg.showFirst3ImgsTogether=!0,SSG.cfg.scaleLock1=!1,SSG.cfg.logIntoGA=!0,SSG.cfg.observeDOM=!1,SSG.cfg.imgBorderWidthX=1,SSG.cfg.imgBorderWidthY=1,SSG.cfg.imgBorderColor="",SSG.cfg.imgOutlineColor="",SSG.cfg.imgBorderLightFx=!1,SSG.cfg.imgBorderRadius=0,SSG.cfg.imgBorderShadow=!0,SSG.cfg.watermarkWidth=147,SSG.cfg.watermarkImage="",SSG.cfg.watermarkText="",SSG.cfg.watermarkFontColor="",SSG.cfg.watermarkFontSize=20,SSG.cfg.watermarkOffsetX=1.8,SSG.cfg.watermarkOffsetY=.6,SSG.cfg.watermarkOpacity=.42,SSG.cfg.hint1="Naviga nella Story Show Gallery con:",SSG.cfg.hint2="la rotella del mouse <strong>⊚</strong> o i tasti freccia <strong>↓→↑←</strong>",SSG.cfg.hint3="o <strong>TAPPA</strong> in basso (o in alto) sullo schermo",SSG.cfg.hintTouch="<strong>Scorri</strong> a sinistra (o a destra) o<br><strong>Tappa</strong> in basso (o in alto) sullo schermo<br> per navigare nella <i>Story Show Gallery</i>.",SSG.cfg.hintFS="Per una migliore esperienza <br><a><abbr>⎚</abbr> vai a schermo intero</a>",SSG.cfg.toTheTop="Torna all'inizio",SSG.cfg.exitLink="Esci dalla Galleria",SSG.cfg.imageLink="Il link all'immagine selezionata:",SSG.cfg.copyButton="⎘ Copia il link negli appunti",SSG.cfg.linkPaste="…e puoi incollarlo ovunque tramite ctrl+v",SSG.cfg.showLandscapeHint=!0,SSG.cfg.landscapeHint="<i>↻</i> le foto si vedono meglio in modalit\xe0 orizzontale <span>\uD83D\uDCF1</span>",SSG.cfg.onGalleryStart=null,SSG.cfg.onImgScrollsIn=null,SSG.cfg.onImgView=null,SSG.cfg.onImgLoad=null,SSG.cfg.onOrientationChange=null,SSG.cfg.onBeyondGallery=null,SSG.cfg.onGalleryExit=null,jQuery(document).ready(function(){SSG.jQueryImgCollection||SSG.beforeRun(),SSG.jQueryImgCollection.click(SSG.run),window.setTimeout(function(){SSG.running||SSG.getHash(!1)},10),SSG.cfg.observeDOM&&(SSG.observerCallback=function(){if(SSG.jQueryImgCollection&&!SSG.running){SSG.jQueryImgCollection=jQuery(SSG.jQueryImgSelector).filter(jQuery("a:not(.nossg)"));let e="";SSG.jQueryImgCollection.toArray().forEach(S=>{e+=S.href}),SSG.urlsSum!=e&&(SSG.jQueryImgCollection.click(SSG.run),SSG.addClasses(),SSG.urlsSum=e)}},SSG.observer=new MutationObserver(SSG.observerCallback),SSG.observer.observe(document.body,{childList:!0,subtree:!0}))}),SSG.addClasses=function(){jQuery(".nossg a").filter(jQuery(SSG.jQueryImgSelector)).addClass("nossg"),jQuery(".fs a").filter(jQuery(SSG.jQueryImgSelector)).addClass("fs"),jQuery(".vipssg a").filter(jQuery(SSG.jQueryImgSelector)).addClass("vipssg"),jQuery(".ssglight a").filter(jQuery(SSG.jQueryImgSelector)).addClass("ssglight"),jQuery(".ssgdim a").filter(jQuery(SSG.jQueryImgSelector)).addClass("ssgdim"),jQuery(".ssgdark a").filter(jQuery(SSG.jQueryImgSelector)).addClass("ssgdark"),jQuery(".ssgblack a").filter(jQuery(SSG.jQueryImgSelector)).addClass("ssgblack")},SSG.beforeRun=function(){SSG.jQueryImgSelector="a[href$='.jpg'],a[href$='.jpeg'],a[href$='.JPG'],a[href$='.JPEG'],a[href$='.png'],a[href$='.PNG'],a[href$='.gif'],a[href$='.GIF'],a[href$='.webp']",SSG.cfg.respectOtherWpGalleryPlugins&&jQuery("body [class*='gallery']").not(jQuery(".wp-block-gallery, .blocks-gallery-grid, .blocks-gallery-item, .gallery, .gallery-item, .gallery-icon, .gallery-caption ")).addClass("nossg"),SSG.cfg.wordpressGalleryFS&&jQuery(".gallery a, .wp-block-gallery a").filter(jQuery(SSG.jQueryImgSelector)).addClass("fs"),void 0!==SSG.cfg.wordpressGalleryFS&&(SSG.cfg.separateWpGalleries?jQuery('.gallery, .wp-block-gallery, article[id^="post-"], div[id^="post-"]').addClass("ssg"):jQuery('article[id^="post-"], div[id^="post-"]').addClass("ssg")),SSG.addClasses(),SSG.isMobile=window.matchMedia("(max-width: 933px) and (orientation: landscape), (max-width: 500px) and (orientation: portrait) ").matches;var e=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(navigator.userAgent.toLowerCase()),S="MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;SSG.isTablet=e||S,SSG.isMac=-1!=window.navigator.userAgent.indexOf("Mac"),SSG.jQueryImgCollection=jQuery(SSG.jQueryImgSelector).filter(jQuery("a:not(.nossg)"))},SSG.run=function(e){if(SSG.jQueryImgCollection||SSG.beforeRun(),SSG.running||0==SSG.jQueryImgCollection.length&&!e.imgs)return!1;if(SSG.running=!0,jQuery("html").addClass("ssg-active"),SSG.cfg.onSignpost&&!SSG.cfg.onBeyondGallery&&(SSG.cfg.onBeyondGallery=SSG.cfg.onSignpost),SSG.cfgFused={},e&&e.cfg&&Object.assign?Object.assign(SSG.cfgFused,SSG.cfg,e.cfg):Object.assign(SSG.cfgFused,SSG.cfg),SSG.cfgFused.crossCursor&&jQuery("html").addClass("crosscur"),e&&e.initImgName&&(e.initImgID=SSG.findImage(SSG.jQueryImgCollection.toArray(),e.initImgName[0],e.initImgName[1])),t=SSG.cfgFused.theme,e&&e.currentTarget&&(S=e.currentTarget.classList,SSG.hasClass(S,"ssglink")&&(e={initImgID:SSG.findImage(SSG.jQueryImgCollection.toArray(),SSG.getName(e.currentTarget.href),0)})),e&&void 0!==e.initImgID&&(S=SSG.jQueryImgCollection[e.initImgID].classList),SSG.hasClass(S,"ssgdim")?t="dim":SSG.hasClass(S,"ssglight")?t="light":SSG.hasClass(S,"ssgblack")?t="black":SSG.hasClass(S,"ssgdark")&&(t="dark"),e&&e.cfg&&e.cfg.theme&&(t=e.cfg.theme),e&&void 0==e.fs&&SSG.hasClass(S,"fs")&&(e.fs=!0),SSG.theme=t,"dark"!=t&&jQuery("html").addClass("ssg"+SSG.theme),e&&e.noExit&&void 0==e.initImgID){var S,t,i=SSG.getHash(!0);null!=i&&(e.initImgID=i)}return SSG.initEvent=e,SSG.setVariables(),SSG.initGallery(e),SSG.FSmode(e),!1},SSG.setVariables=function(){if(SSG.imgs=[],SSG.justLoadedImg=-1,SSG.displayedImg=-1,SSG.lockedImg=0,SSG.isImgLocked=!1,SSG.imgDelta=1,SSG.scrHeight=window.innerHeight,SSG.scrFraction=jQuery(window).width()/SSG.scrHeight>=1?2:3.5,SSG.imageDown=!1,SSG.imageUp=!1,SSG.isFirstImageCentered=!1,SSG.inFullscreenMode=!1,SSG.fullScreenSupport=!0,SSG.isFullscreenModeWanted=!1,SSG.finito=!1,SSG.atLastone=!1,SSG.fileLoaded=!1,SSG.destroyOnFsChange=!0,SSG.inExitMode=!0,SSG.loadNextImg=!1,SSG.savedTimeStamp=0,SSG.wasJumpScrollUsed=!1,SSG.jumpScrollingNow=!1,SSG.fsTipShown=!1,SSG.isGalleryCreated=!1,SSG.isOrientationChanging=!1,SSG.isGalleryLandscaping=!1,SSG.location=window.location.href.split("#",1)[0],SSG.viewport=jQuery("meta[name='viewport']").attr("content"),SSG.themeColor=jQuery("meta[name='theme-color']").attr("content"),SSG.smallScreen=window.matchMedia("(max-width: 933px) and (orientation: landscape), (max-width: 500px) and (orientation: portrait) ").matches,SSG.landscapeMode=window.matchMedia("(orientation: landscape)").matches,SSG.actualPos=window.pageYOffset||document.documentElement.scrollTop,SSG.slide={},(!SSG.initEvent||SSG.initEvent.restart)&&SSG.initEvent||(SSG.originalPos=window.pageYOffset||document.documentElement.scrollTop,SSG.originalBodyHeight=jQuery("body").height(),SSG.landscapeModeOriginal=window.matchMedia("(orientation: landscape)").matches),SSG.radiusUnit=SSG.cfgFused.imgBorderRadius>33?"%":"vmax",SSG.cfgFused.imgBorderRadius>50&&(SSG.cfgFused.imgBorderRadius=50),""===SSG.cfgFused.imgBorderWidthY&&(SSG.cfgFused.imgBorderWidthY=1),""===SSG.cfgFused.imgBorderWidthX&&(SSG.cfgFused.imgBorderWidthX=1),""===SSG.cfgFused.watermarkOffsetY&&(SSG.cfgFused.watermarkOffsetY=1),""===SSG.cfgFused.watermarkOffsetX&&(SSG.cfgFused.watermarkOffsetX=1),SSG.smallScreen?(SSG.cfgFused.watermarkOffsetY<0?SSG.cfgFused.watermarkOffsetY*=.8:SSG.cfgFused.watermarkOffsetY>100?SSG.cfgFused.watermarkOffsetY=100+(SSG.cfgFused.watermarkOffsetY-100)*.8:SSG.cfgFused.watermarkOffsetY<5&&(SSG.cfgFused.watermarkOffsetY*=1.2),SSG.cfgFused.watermarkOffsetX<0?SSG.cfgFused.watermarkOffsetX*=.8:SSG.cfgFused.watermarkOffsetX>100?SSG.cfgFused.watermarkOffsetX=100+(SSG.cfgFused.watermarkOffsetX-100)*.8:SSG.cfgFused.watermarkOffsetX<5&&(SSG.cfgFused.watermarkOffsetX*=1.2),SSG.cfgFused.imgBorderWidthX>=2&&(SSG.cfgFused.imgBorderWidthX*=.8),SSG.cfgFused.imgBorderWidthY>=2&&(SSG.cfgFused.imgBorderWidthY*=.8),SSG.cfgFused.watermarkFontSize*=.8,SSG.cfgFused.imgBorderRadius<2&&(SSG.cfgFused.imgBorderRadius=SSG.cfgFused.imgBorderRadius*(-.4*SSG.cfgFused.imgBorderRadius+1.8))):SSG.cfgFused.imgBorderRadius<.5&&(SSG.cfgFused.imgBorderRadius*=Math.pow(1920/window.innerWidth,.7)),SSG.watermarkStyle="",SSG.cfgFused.watermarkImage||SSG.cfgFused.watermarkText){var e,S,t=Math.round(SSG.cfgFused.watermarkWidth/1260*1e3)/10,i=SSG.cfgFused.watermarkOffsetX,a=SSG.cfgFused.watermarkOffsetY,s="transform:";e=i<0?SSG.cfgFused.imgBorderWidthY+i+"px":i>100?`calc( ${SSG.cfgFused.imgBorderWidthY}px +  ( ( (100% - ${2*SSG.cfgFused.imgBorderWidthY}px ) / 100 ) * 100 ) + ${i-100}px )`:`calc( ${SSG.cfgFused.imgBorderWidthY}px +  ( ( (100% - ${2*SSG.cfgFused.imgBorderWidthY}px ) / 100 ) * ${i} ) )`,S=a<0?SSG.cfgFused.imgBorderWidthX+a+"px":a>100?`calc( ${SSG.cfgFused.imgBorderWidthX}px +  ( ( (100% - ${2*SSG.cfgFused.imgBorderWidthX}px ) / 100 ) * 100 ) + ${a-100}px )`:`calc( ${SSG.cfgFused.imgBorderWidthX}px +  ( ( (100% - ${2*SSG.cfgFused.imgBorderWidthX}px ) / 100 ) * ${a} ) )`,SSG.watermarkStyle="left:"+e+"; bottom: "+S+"; font-size:"+SSG.cfgFused.watermarkFontSize+"px;opacity:"+SSG.cfgFused.watermarkOpacity+";",SSG.cfgFused.watermarkFontColor&&(SSG.watermarkStyle=SSG.watermarkStyle+"color: "+SSG.cfgFused.watermarkFontColor+"; text-shadow:none; "),SSG.cfgFused.watermarkImage&&(SSG.watermarkStyle=SSG.watermarkStyle+"max-width:"+SSG.cfgFused.watermarkWidth+"px; min-width:"+Math.round(.75*SSG.cfgFused.watermarkWidth)+"px; width:"+t+"vmax; background-image: url("+SSG.cfgFused.watermarkImage+");height:"+1.5*SSG.cfgFused.watermarkWidth+"px;max-height: 48vmin;",SSG.watermarkStyle="width:"+t+"vw;"+SSG.watermarkStyle),i>33&&i<66?s+=" translateX(-50%)":i>=66&&(s+=" translateX(-100%)"),a>33&&a<66?s+=" translateY(50%);  background-position: center":a>=66&&(s+=" translateY(100%); background-position: top"),SSG.watermarkStyle=SSG.watermarkStyle+s+";"}},SSG.findImage=function(e,S,t){for(var i,a=0,s=0;s<e.length;s++)if(-1!=SSG.getName(e[s].href).indexOf(S)){if(i=s,a>=t&&!SSG.hasClass(e[s].classList,"ssglink"))break;a++}return i},SSG.getHash=function(e){var S,t=window.location.hash,i=SSG.jQueryImgCollection.toArray();if(""!=t&&(t=t.substring(1,t.length),void 0!==(S=SSG.findImage(i,t,0)))){if(e)return S;window.stop&&(window.stop(),SSG.loadingStopped=!0);var a=SSG.hasClass(i[S].classList,"fs");SSG.run({fsa:a&&!SSG.isMobile&&!SSG.cfg.neverFullscreen||a&&SSG.isMobile&&SSG.cfg.mobilePortraitFS&&!SSG.cfg.showLandscapeHint||SSG.isTablet||SSG.cfg.alwaysFullscreen||window.screen.width>window.screen.height,fs:a&&!SSG.cfg.neverFullscreen,initImgID:S})}return null},SSG.FSmode=function(e){jQuery(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",SSG.onFS),jQuery(document).on("fullscreenerror",function(){SSG.createGallery(SSG.initEvent)});var S=SSG.isMobile&&SSG.landscapeMode,t=SSG.isMobile&&!SSG.landscapeMode;SSG.pageFS=e&&e.fs||e&&e.currentTarget&&SSG.hasClass(e.currentTarget.classList,"fs")&&!e.altKey;var i=t&&SSG.pageFS&&SSG.cfgFused.mobilePortraitFS;e&&e.fsa?(SSG.createGallery(SSG.initEvent),SSG.isFullscreenModeWanted=!0):t&&void 0===e.fsa&&SSG.pageFS&&SSG.cfgFused.forceLandscapeMode&&!/iPhone/i.test(window.navigator.userAgent)?SSG.forceLandscapeMode(!1,!1):e&&e.altKey?SSG.createGallery(SSG.initEvent):S||SSG.isTablet||i||SSG.cfgFused.alwaysFullscreen?SSG.openFullscreen():t||SSG.cfgFused.neverFullscreen?SSG.createGallery(SSG.initEvent):SSG.pageFS?SSG.openFullscreen():SSG.createGallery(SSG.initEvent),document.fullscreenElement&&(SSG.inFullscreenMode=!0,SSG.createGallery(SSG.initEvent));var a=document.documentElement;(a.requestFullscreen||a.mozRequestFullScreen||a.webkitRequestFullscreen)&&!1!==document.fullscreenEnabled||(SSG.createGallery(SSG.initEvent),SSG.fullScreenSupport=!1),window.setTimeout(function(){SSG.createGallery(SSG.initEvent)},1333),!SSG.inFullscreenMode&&SSG.isFullscreenModeWanted&&SSG.fullScreenSupport&&window.setTimeout(function(){SSG.showFsTip("fsOffer")},600)},SSG.createGallery=function(e){if(!SSG.isGalleryCreated){if(SSG.isGalleryCreated=!0,jQuery("body").append("<div id='SSG1'></div>"),SSG.cfgFused.bgOpacity<100&&jQuery("#SSG1").addClass("SSG_trans"),100!==SSG.cfgFused.fontSize&&jQuery("#SSG1").css({fontSize:SSG.cfgFused.fontSize/100*16+"px"}),1==SSG.cfgFused.imgBorderWidthY&&jQuery("#SSG1").addClass("SSG_border1"),SSG.setNotchRight(),SSG.inExitMode&&jQuery("body").append("<div role='button' id='SSG_exit'></div>"),jQuery("body").append('<svg><filter id="SSGsharpen"><feConvolveMatrix color-interpolation-filters="sRGB" order="3" preserveAlpha="true" kernelMatrix="0 -1 0 -1 8.8 -1 0 -1 0" /></filter></svg>'),jQuery("#SSG_exit").click(()=>{SSG.destroyGallery()}),jQuery("#SSG1").click(SSG.touchScroll),SSG.cfgFused.rightClickProtection&&jQuery("#SSG1, #SSG_exit").on("contextmenu",function(e){e.preventDefault(),SSG.showFsTip("hint")}),e&&e.imgs){for(var S=JSON.parse(JSON.stringify(e.imgs)),t=0;t<S.length;t++)void 0===S[t].author&&(S[t].author=SSG.cfgFused.globalAuthorCaption);if("whole"!=e.imgsPos&&e.imgsPos)"start"==e.imgsPos?(SSG.getImgList(e),Array.prototype.unshift.apply(SSG.imgs,S)):"end"==e.imgsPos&&(SSG.getImgList(e),Array.prototype.push.apply(SSG.imgs,S));else if(SSG.imgs=S,e.initImgID){var i=SSG.imgs.splice(0,e.initImgID);Array.prototype.push.apply(SSG.imgs,i)}SSG.clickedGalleryID=e&&e.id?e.id:SSG.clickedGalleryID}else SSG.getImgList(e);SSG.cfgFused.onGalleryStart&&SSG.cfgFused.onGalleryStart(SSG.createDataObject(0)),SSG.addImage(),SSG.metronomInterval=setInterval(SSG.metronome,333)}},SSG.initGallery=function(e){e&&e.noExit&&(SSG.inExitMode=!1),window.setTimeout(function(){window.scrollTo(0,0)},381),window.setTimeout(function(){jQuery("#SSG_bg").css("padding-top","75vh")},888),SSG.cfgFused.scaleLock1?jQuery("meta[name='viewport']").attr("content","initial-scale=1, viewport-fit=cover, maximum-scale=1, user-scalable=no, "):jQuery("meta[name='viewport']").attr("content","initial-scale=1, viewport-fit=cover");var S="light"==SSG.theme?"#fafafa":"#131313";SSG.themeColor?jQuery("meta[name='theme-color']").attr("content",S):jQuery("head").append("<meta name='theme-color' content='"+S+"'>"),jQuery("body").append("<div id='SSG_bg'><span><img src='img/icon_ai.png' alt='Icona AI' style='width: 1.2em; height: 1.2em; vertical-align: middle; filter: invert(100%);'> Scopri le varie Gallerie</span></div>"),SSG.cfgFused.bgOpacity<100&&jQuery("#SSG_bg").css({opacity:SSG.cfgFused.bgOpacity/100}),SSG.jQueryImgCollection.each(function(e){jQuery(this).attr("ssgid",e),jQuery(this).attr("ssg",0)}),jQuery(".ssg").each(function(e){SSG.tempi=e,jQuery(this).find(SSG.jQueryImgSelector).each(function(e){jQuery(this).attr("ssgsid",e),jQuery(this).attr("ssg",SSG.tempi+1)})}),jQuery(document).keydown(SSG.keyFunction),window.addEventListener("hashchange",SSG.onHashExit),document.addEventListener("wheel",SSG.seizeScrolling,{passive:!1,capture:!0}),SSG.isMobile||jQuery(window).resize(SSG.onResize),SSG.isMobile&&(window.screen.orientation?window.screen.orientation.addEventListener("change",SSG.onOrientationChanged):window.addEventListener("orientationchange",SSG.onOrientationChanged)),jQuery(document).on("touchstart",SSG.slideStart),jQuery(document).on("touchmove",SSG.slideBrowse),jQuery(document).on("touchend",SSG.slideEnd),SSG.iphoneScrollBlock(),jQuery(document).on("scroll",function e(){!SSG.landscapeMode&&SSG.displayedImg>=0&&SSG.actualPos>SSG.imgs[0].pos&&(jQuery(".SSG_tipCall").addClass("SSG_hide"),jQuery(document).off("scroll",e))})},SSG.onOrientationChanged=function(){if(SSG.isOrientationChanging=!0,SSG.cfgFused.onOrientationChange&&SSG.cfgFused.onOrientationChange(SSG.createDataObject(SSG.displayedImg)),SSG.inFullscreenMode&&(SSG.cfgFused.mobilePortraitFS&&SSG.pageFS||SSG.cfgFused.alwaysFullscreen||SSG.userAcceptFs)){SSG.onResize(),SSG.setNotchRight();return}SSG.fullScreenSupport&&(!SSG.landscapeMode&&!SSG.inFullscreenMode||SSG.landscapeMode&&SSG.inFullscreenMode)?SSG.landscapeMode?SSG.closeFullscreen():SSG.openFullscreen():SSG.isGalleryLandscaping||SSG.onResize(),SSG.setNotchRight(),SSG.iphoneScrollBlock()},SSG.forceLandscapeMode=function(e,S){if(e&&e.stopPropagation(),/iPhone/i.test(window.navigator.userAgent)){S&&SSG.showFsTip("rotatErr");return}SSG.isGalleryLandscaping=!0,SSG.inFullscreenMode||SSG.openFullscreen(),setTimeout(function(){!SSG.landscapeMode&&screen.orientation&&screen.orientation.lock("landscape-primary").then(e=>{SSG.onResize()}).catch(e=>{console.log(e),S&&SSG.showFsTip("rotatErr")})},200),setTimeout(function(){SSG.isGalleryLandscaping=!1},2e3)},SSG.iphoneShit=function(e){SSG.hasClass(e.target.classList,"SSG_scroll-caption")||e.preventDefault()},SSG.iphoneScrollBlock=function(){/iPhone/i.test(window.navigator.userAgent)&&(90==Math.abs(window.orientation)?document.addEventListener("touchmove",SSG.iphoneShit,{passive:!1,capture:!1}):document.removeEventListener("touchmove",SSG.iphoneShit,!1))},SSG.slideBrowse=function(e){SSG.slide.lastX=e.originalEvent.touches[0].clientX,SSG.slide.lastY=e.originalEvent.touches[0].clientY,SSG.running&&!0==SSG.slide.isCountedOn&&(SSG.slide.count++,SSG.slide.count>=6&&(SSG.slide.isCountedOn=!1,SSG.slide.count=0,SSG.slideScroll()))},SSG.slideScroll=function(){!(SSG.slide.touchPoints>1)&&Math.abs((SSG.slide.lastX-SSG.slide.startX)/(SSG.slide.lastY-SSG.slide.startY))>2.2&&(SSG.slide.lastX<SSG.slide.startX?SSG.imageDown=!0:SSG.imageUp=!0,SSG.jumpScroll())},SSG.slideEnd=function(e){SSG.running&&SSG.landscapeMode&&!SSG.wasJumpScrollUsed&&!SSG.fsTipShown&&!SSG.hasClass(e.target.classList,"SSG_scroll-caption")&&2.2>Math.abs((SSG.slide.lastX-SSG.slide.startX)/(SSG.slide.lastY-SSG.slide.startY))&&SSG.showFsTip("hint"),SSG.slide.isCountedOn&&SSG.slideScroll()},SSG.slideStart=function(e){SSG.running&&(SSG.slide={isCountedOn:!0,count:0,startX:e.originalEvent.touches[0].clientX,startY:e.originalEvent.touches[0].clientY,touchPoints:e.originalEvent.touches.length})},SSG.setNotchRight=function(){window.screen.orientation&&!/iPhone/i.test(window.navigator.userAgent)?"landscape-secondary"===screen.orientation.type?jQuery("#SSG1, #SSG_exit").addClass("notchright"):jQuery("#SSG1, #SSG_exit").removeClass("notchright"):window.orientation&&(-90===window.orientation?jQuery("#SSG1, #SSG_exit").addClass("notchright"):jQuery("#SSG1, #SSG_exit").removeClass("notchright"))},SSG.hasClass=function(e,S){if(!e)return!1;for(var t=0;t<e.length;t++)if(e[t]==S)return!0;return!1},SSG.keyFunction=function(e){27==e.which&&SSG.inExitMode&&SSG.destroyGallery(),(40==e.which||39==e.which||34==e.which||32==e.which)&&(SSG.imageDown=!0),(38==e.which||37==e.which||33==e.which)&&(SSG.imageUp=!0),SSG.jumpScroll(),e.preventDefault()},SSG.touchScroll=function(e){e.clientY<SSG.scrHeight/2?SSG.imageUp=!0:SSG.imageDown=!0,SSG.jumpScroll()},SSG.getAlt=function(e){return e.attributes["data-caption"]?e.attributes["data-caption"].nodeValue:e.children[0]&&e.children[0].alt?e.children[0].alt:e.children[0]&&"PICTURE"==e.children[0].tagName?e.children[0].children[e.children[0].children.length-1].alt:e.innerText&&" "!=e.innerText?e.innerText:""},SSG.getImgList=function(e){var S,t,i,a,s={};if(e&&e.currentTarget?(S=e.currentTarget.attributes.ssgid.nodeValue,a=e.currentTarget.attributes.ssg.nodeValue,e.currentTarget.attributes.ssgsid&&(i=e.currentTarget.attributes.ssgsid.nodeValue)):e&&void 0!==e.initImgID?(i=jQuery("a[ssgid="+(S=e.initImgID)+"]").attr("ssgsid"),a=jQuery("a[ssgid="+S+"]").attr("ssg")):a=-1,SSG.clickedGalleryID=e&&e.id?e.id:a,Array.prototype.forEach.call(SSG.jQueryImgCollection.toArray(),function(e){var t=!SSG.hasClass(e.classList,"gossg")||S==e.attributes.ssgid.nodeValue,i=a==e.attributes.ssg.nodeValue||SSG.hasClass(e.classList,"vipssg")&&0==a;t&&(i||-1==a)&&(s.href=e.href,s.alt=SSG.cfgFused.hideImgCaptions?"":SSG.getAlt(e),s.id=e.attributes.ssgid.nodeValue,e.attributes["data-author"]?s.author=e.attributes["data-author"].nodeValue:0!==jQuery.trim(SSG.cfgFused.globalAuthorCaption).length?s.author=SSG.cfgFused.globalAuthorCaption:s.author="",SSG.imgs.push(s),s={})}),S&&SSG.imgs.length>1){t=0;for(var n=0;n<SSG.imgs.length;n++)if(SSG.imgs[n].id==S){t=n;break}if(SSG.cfgFused.showFirst3ImgsTogether&&void 0!==i&&(1==i||2==i)&&t-i>=0&&0==jQuery("a[ssgid="+SSG.imgs[t-i].id+"]").attr("ssgsid")){var o=SSG.imgs.splice(t,1);SSG.imgs.splice(t-i,0,o[0]),t-=i}if(t>0){var r=SSG.imgs.splice(0,t);Array.prototype.push.apply(SSG.imgs,r)}}},SSG.onFS=function(){if(SSG.isMobile&&!SSG.isGalleryLandscaping&&SSG.onResize(),null===document.fullscreenElement){if(SSG.inFullscreenMode=!1,SSG.isOrientationChanging){SSG.isOrientationChanging=!1;return}SSG.inExitMode?SSG.destroyOnFsChange&&SSG.destroyGallery("fsexit"):jQuery("#SSG_exit").remove(),SSG.destroyOnFsChange=!0}else!document.fullscreenElement&&void 0!==document.fullscreenElement||(SSG.isGalleryCreated||(SSG.isMobile&&SSG.landscapeMode?setTimeout(function(){SSG.createGallery(SSG.initEvent)},2800):SSG.createGallery(SSG.initEvent)),SSG.inFullscreenMode=!0,SSG.inExitMode||SSG.isMobile||(jQuery("body").append("<div id='SSG_exit'></div>"),jQuery("#SSG_exit").click(function(){SSG.destroyOnFsChange=!0,SSG.closeFullscreen()})))},SSG.refreshPos=function(){if(SSG.running)for(var e=0;e<=SSG.justLoadedImg;e++)SSG.imgs[e].pos=Math.round(jQuery("#SSG1 #i"+e).offset().top)},SSG.countResize=function(){SSG.scrHeight=window.innerHeight,SSG.scrFraction=jQuery(window).width()/SSG.scrHeight>=1?2:3.5,SSG.landscapeMode=window.matchMedia("(orientation: landscape)").matches},SSG.scrollToActualImg=function(){SSG.running&&(SSG.isImgLocked=!1,-1==SSG.justLoadedImg||void 0===SSG.imgs[SSG.lockedImg]||SSG.atLastone?SSG.atLastone&&SSG.ScrollTo(jQuery("#SSG_menu").offset().top-SSG.scrHeight/10,0):SSG.ScrollTo(SSG.imgs[SSG.lockedImg].pos-SSG.countImageIndent(SSG.lockedImg)))},SSG.refreshFormat=function(){for(var e=0;e<=SSG.justLoadedImg;e++)SSG.displayFormat({data:{imgid:e}})},SSG.onResize=function(){var e=2.5,S=!SSG.landscapeMode;S&&SSG.inFullscreenMode&&SSG.isGalleryLandscaping?e=.75:S&&SSG.inFullscreenMode?e=2.5:S&&!SSG.inFullscreenMode&&SSG.isGalleryLandscaping?e=.75:S&&!SSG.inFullscreenMode&&SSG.isFirstImageCentered&&(e=1),SSG.isImgLocked||(SSG.isImgLocked=!0,window.setTimeout(SSG.countResize,600/e),window.setTimeout(SSG.refreshFormat,700/e),window.setTimeout(SSG.refreshPos,900/e),window.setTimeout(SSG.scrollToActualImg,1020/e))},SSG.displayFormat=function(e){var S=e.data.imgid,t=jQuery("#SSG1 #i"+S).innerHeight(),i=jQuery("#SSG1 #i"+S).innerWidth(),a=jQuery(window).width(),s=window.innerHeight,n=a>1400?.82:.77;SSG.imgs[S].alt||SSG.imgs[S].author||SSG.imgs[S].exif||SSG.cfgFused.globalAuthorCaption||(n=.9);var o=a*n/(.97*s-30),r=a*n>1.38*i,l=r&&SSG.cfgFused.sideCaptionforSmallerLandscapeImg;(i/t-o)*100+SSG.cfgFused.preferedCaptionLocation<0||l?jQuery("#SSG1 #f"+S).addClass("SSG_uwide"):jQuery("#SSG1 #f"+S).removeClass("SSG_uwide"),r?jQuery("#SSG1 #f"+S).addClass("SSG_captionShift"):jQuery("#SSG1 #f"+S).removeClass("SSG_captionShift"),window.setTimeout(function(){if(!SSG.landscapeMode){jQuery("#SSG1 #f"+S).removeClass("SSG_low-caption"),jQuery("#SSG1 #f"+S+",#SSG1 #uwp"+S).removeClass("SSG_scroll-caption");return}jQuery("#SSG1 #uwp"+S).outerHeight()<.94*SSG.scrHeight?(jQuery("#SSG1 #f"+S).addClass("SSG_low-caption"),jQuery("#SSG1 #f"+S+",#SSG1 #uwp"+S).removeClass("SSG_scroll-caption")):(jQuery("#SSG1 #f"+S).removeClass("SSG_low-caption"),jQuery("#SSG1 #f"+S+",#SSG1 #uwp"+S).addClass("SSG_scroll-caption"))},666)},SSG.onImageLoad=async function(e){var S=e.data.imgid;if(SSG.justLoadedImg=S,SSG.imgs[S].exif=!1,SSG.cfgFused.onImgLoad&&SSG.cfgFused.onImgLoad(SSG.createDataObject(SSG.justLoadedImg)),SSG.cfgFused.enlargeImg&&!SSG.isTablet&&!SSG.isMobile){var t=jQuery("#SSG1 #i"+S).height(),i=jQuery("#SSG1 #i"+S).width(),a=window.innerWidth,s=window.innerHeight;t<.66*s&&i<.66*a&&(i/t<a/s?jQuery("#SSG1 #i"+S).css({height:"81vh"}):jQuery("#SSG1 #i"+S).css({width:"83vw"}))}var n=document.querySelector("#SSG1 #i"+S).naturalWidth,o=jQuery("#SSG1 #i"+S).width();if(n<Math.min(window.devicePixelRatio,2)*o&&!SSG.isMac&&SSG.cfgFused.sharpenEnlargedImg&&jQuery("#SSG1 #i"+S).css({filter:"url(#SSGsharpen)"}),"none"!==SSG.cfgFused.captionExif&&window.exifr){try{var r=await window.exifr.parse(document.querySelector("#SSG1 #i"+SSG.justLoadedImg))}catch(l){console.log("Exifr "+l)}r&&(SSG.exifTemp=SSG.getExif(r,!0),SSG.exifTemp&&(SSG.imgs[e.data.imgid].exif=!0,jQuery("#SSG1 #f"+SSG.justLoadedImg+" q").html(SSG.exifTemp),"icon"==SSG.cfgFused.captionExif&&jQuery("#SSG1 #f"+SSG.justLoadedImg+" q").addClass("SSG_exif-icon"),"icon"==SSG.cfgFused.captionExif&&jQuery("#SSG1 #f"+SSG.justLoadedImg).addClass("SSG_eicon"),jQuery("#SSG1 #f"+SSG.justLoadedImg+" q").on("click",function(e){e.stopPropagation(),SSG.showFsTip(SSG.getExif(r,!1))}),jQuery("#SSG1 #f"+SSG.justLoadedImg).addClass("SSG_exif"),jQuery("#SSG1 #f"+SSG.justLoadedImg).removeClass("SSG_notitle")))}SSG.displayFormat(e),SSG.refreshPos(),SSG.loadNextImg=!0},SSG.getExif=function(e,S){function t(e){return e[0]==e[1]?e[0]+"mm f/"+e[2]:e[2]==e[3]?e[0]+"&#8209;"+e[1]+"mm, f/"+e[2]:e[0]+"&#8209;"+e[1]+"mm, f/"+e[2]+"&#8209;"+e[3]}function i(e,S){for(var t,i=["Sony","Canon","Nikon","Fujifilm","Olympus","Panasonic","Pentax","Leica","Samsung","Minolta","Ricoh","Hasselblad","Kodak","Sigma"],a=0;a<i.length;a++)if(-1!==(t=e.toLowerCase().indexOf(i[a].toLowerCase()))){if(S)return i[a];return e.substring(0,t-1)+e.substring(t+i[a].length+1)}return e}function a(e){return void 0===e?"-":e.toString().includes("undefined")||e.toString().includes("NaN")?"-":e}function s(e){return e=(e=e.replace("ILCE-","α")).replace("DSC-","")}var n=e.Make?i(e.Make,!0)+" ":"",o=e.Model?s(i(e.Model,!1)):"",r=e.LensModel||e["42036"]||e.LensInfo||e["42034"];if("object"==typeof r&&(r=t(r)),e.LensInfo||e["42034"])var l=e.LensInfo||e["42034"],G=l[2]?t(l):r.substring(0,13)+"…",d="trim"==SSG.cfgFused.captionExif?G:r;else var d="";var c=e.FocalLengthIn35mmFormat||e.FocalLength,g=e.FocalLengthIn35mmFormat?"mmEQ":"mm",u=c?' <b class="focal">∢</b>'+c+g:"",f=e.FNumber?" <b>⌬</b>f/"+Math.round(10*e.FNumber)/10:"",m=e.ISO?" <b class='iso'>▦</b>"+e.ISO:"",p=e.ExposureTime<=.5?"1/"+1/e.ExposureTime:e.ExposureTime,h=e.ExposureTime?" <b>◔</b>"+p+"s":"",$=e.FocalLength,F=e.FocalLengthIn35mmFormat;if(e.ExposureTime&&e.ISO){var _=""==SSG.cfgFused.fillExifBlanks[1]?SSG.cfgFused.fillExifBlanks[0]:SSG.cfgFused.fillExifBlanks[1];(!r||r.length<=4)&&(r=SSG.cfgFused.fillExifBlanks[0]),u||(d=d||("trim"==SSG.cfgFused.captionExif?_:SSG.cfgFused.fillExifBlanks[0])),SSG.cfgFused.fillExifBlanks[2]&&(u=u||' <b class="focal">∢</b>'+SSG.cfgFused.fillExifBlanks[2]+" mmEQ"),SSG.cfgFused.fillExifBlanks[2]&&(F=F||SSG.cfgFused.fillExifBlanks[2]),SSG.cfgFused.fillExifBlanks[3]&&($=$||SSG.cfgFused.fillExifBlanks[3])}var y=(n?"<u>":"")+n+o+(n?"</u>":"")+(d?" + ":"")+d+u+f+m+h;return"icon"==SSG.cfgFused.captionExif&&S&&y?"EXIF":S?y+(y?"&nbsp;…":""):`
    <div id="SSG_exifFrame">
    <table class="SSG_exif-table">
        <tr><td>author:</td><td> ${a(e.Artist||e.Copyright||e["42032"]||SSG.cfgFused.fillExifBlanks[4])} </td></tr>
        <tr><td>camera&nbsp;maker:</td><td> ${e.Make} </td></tr>
        <tr><td>camera model:</td><td> ${s(i(e.Model,!1))} </td></tr>
        <tr><td>lens:</td><td>  ${a(r)}</td></tr>
        <tr><td>focal length:</td><td> ${!F&&$?"<b>∢</b>":""} ${a($+" mm")}</td></tr>
        
        <tr><td>focal length 35mmEQ:</td><td><b class="focal">∢</b>  ${a(F+" mm")}</td></tr>
        <tr><td>f-number:</td><td><b>⌬</b>  ${a("f/"+Math.round(10*e.FNumber)/10)}</td></tr>
        <tr><td>ISO speed:</td><td><b class='iso'>▦</b>  ${a(e.ISO)}</td></tr>
        <tr><td>exposure time:</td><td><b>◔</b>  ${p}s<br></td></tr>
        
        <tr><td>compensation:</td><td>  ${a(e.ExposureCompensation).toString().substring(0,5)+" EV"}<br></td></tr>
        <tr><td>flash:</td><td>  ${a(e.Flash)}</td></tr>
        <tr><td>editor:</td><td>   ${a(e.Software)}<br></td></tr>
        <tr><td>creation date & time:</td><td>  ${(e.DateTimeOriginal||e.CreateDate).toLocaleString()}</td></tr>
        <tr><td>GPS Lat, Long:</td><td> <a target='_blank' href='https://www.google.com/maps/search/${e.latitude+","+e.longitude}'>
        ${a(e.latitude+", "+e.longitude)}</a></td></tr>
        <tr><td>Altitude:</td><td>  ${a(Math.round(e.GPSAltitude)+" metres")} </td></tr>
    </table>
    </div>
    `},SSG.onLoadError=function(e){jQuery("#SSG1 #i"+e.data.imgid).attr("src","data:image/gif;base64,R0lGODlhUQAKAIABADVsagAAACH5BAEAAAEALAAAAABRAAoAAAJkjI+py+0PYwQyUCpx3bNqDiIANlpkaYrGqKHm9R5scrHujZaktfb9x2updrCgT8ZLfopMm/JYRApjxOdu6DsxX65n0oj9iY3V77i8XV5bOdoKpwXHw+ucPYTv5M37vqjLMZNQAAA7"),jQuery("#SSG1 #uwb"+e.data.imgid).addClass("SSG_serror"),SSG.onImageLoad(e)},SSG.escapeHtml=function(e){var S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'\/]/g,function(e){return S[e]})},SSG.shareMenu=function(e,S){var t=window.location.href.split("#")[0]+"#"+SSG.getName(SSG.imgs[e].href),i=encodeURIComponent(t),a=SSG.escapeHtml(jQuery("h1").first().text()),s=SSG.escapeHtml(S),n=SSG.escapeHtml(encodeURIComponent(jQuery("h1").first().text()+" - "+S)),o=' target="_blank" href="';return"<span class='SSG_share' "+(SSG.cfgFused.imgBorderRadius>6?"style='bottom:"+(SSG.cfgFused.imgBorderRadius-1)+SSG.radiusUnit+"'":"")+"><span class='SSG_share-menu'><a class='instagram' "+o+"https://www.instagram.com/share?url="+i+"\"  title='Share on Instagram'></a><a class='whatsapp'  "+o+"https://wa.me/?text="+i+" - "+n+"\"  title='Share on WhatsApp'></a><a class='mess' "+o+"fb-messenger://share/?link="+i+"\"  title='Share on Messenger'></a><a class='reddit' "+o+"https://www.reddit.com/submit?url="+i+"&title="+n+"\"  title='Share on Reddit'></a><a class='link' data-url='"+t+"' title='Get a link to share'></a><a class='tweet' "+o+"http://x.com/share?text="+n+"&url="+i+"\"  title='Share on X'></a><a class='pin' "+o+"http://www.pinterest.com/pin/create/button/?url="+i+"&amp;media="+SSG.imgs[e].href+"&amp;description="+n+"\"  title='Share on Pinterest'></a><a class='email' href='mailto:?subject="+a+"&body="+a+" - "+s+" "+t+"' title='Send by email' ><b>@</b></a><a class='FB' "+o+"http://www.facebook.com/sharer/sharer.php?u="+i+"\"  title='Share on Facebook'></a></span><a role='button' class='ico'></a></span>"},SSG.addImage=function(){var e=SSG.justLoadedImg+1;if(e<SSG.imgs.length){var S,t=SSG.imgs[e].author?"<span class='SSG_authorsign'>"+SSG.imgs[e].author+"</span>":"",i=SSG.imgs[e].alt?SSG.imgs[e].alt:"";S=SSG.cfgFused.socialShare?SSG.shareMenu(e,i):"";var a="";SSG.imgs[e].alt&&(a="SSG_title"),SSG.imgs[e].author&&(a+=" SSG_author"),SSG.imgs[e].alt||SSG.imgs[e].author||(a="SSG_notitle"),0==e&&(a+=" SSG_arrow");var s="<p class='SSG_uwtitle' id='uwp"+e+"'>"+i+S+"<q></q>"+t+"</p>",n="padding:"+SSG.cfgFused.imgBorderWidthX+"px "+SSG.cfgFused.imgBorderWidthY+"px; ",o=SSG.cfgFused.imgBorderLightFx?"background-image: linear-gradient("+Math.round(359*Math.random())+"deg, #00000030, #ffffff30,  #00000030); ":"",r=SSG.cfgFused.imgBorderColor?" background-color:"+SSG.cfgFused.imgBorderColor+"; ":"",l=SSG.cfgFused.imgOutlineColor?" outline-offset: "+-((SSG.cfgFused.imgBorderWidthX+SSG.cfgFused.imgBorderWidthY+1.2)/2)+"px; ":"",G=SSG.cfgFused.imgOutlineColor?" outline: 1px solid "+SSG.cfgFused.imgOutlineColor+"; ":"",d="border-radius:"+SSG.cfgFused.imgBorderRadius+SSG.radiusUnit+"; ",c=SSG.cfgFused.imgBorderShadow?"":"box-shadow: none !important; ",g="<div class='SSG_imgWrap'><span class='SSG_forlogo'><img id='i"+e+"' src='"+SSG.imgs[e].href+"' "+("style='"+n+o+r+l+G+d)+c+"' ><span class='SSG_logo' style='"+SSG.watermarkStyle+"'>"+SSG.cfgFused.watermarkText+"</span>"+S+"</span></div>",i="<p class='SSG_title' id='p"+e+"'><span>"+i+(i?"<wbr>":"")+"<q></q>"+(t?"<wbr>":"")+t+S+"</span></p>",u=new Image;u.src=SSG.imgs[e].href,u.decode&&u.decode().catch(function(){console.log("no image to decode")});var f=SSG.imgs[e].alt&&SSG.imgs[e].alt.length,m=f>=Math.abs(SSG.cfgFused.narrowCaptionsAlignThreshold)?" SSG_textAlignedLeft":"";m=f>=Math.abs(SSG.cfgFused.wideCaptionsAlignThreshold)?m+" SSG_wideTextAlignedLeft":m+"",jQuery("#SSG1").append("<figure id='f"+e+"' class='"+a+(f>=288?" SSG_chattyCaption":"")+m+"'><div id='uwb"+e+"' class='SSG_uwBlock'>"+s+g+"</div>"+i+"</figure>"),jQuery("#SSG1 #i"+e).on("load",{imgid:e},SSG.onImageLoad),jQuery("#SSG1 #i"+e).on("error",{imgid:e},SSG.onLoadError),jQuery("#SSG1 #f"+e+" .link").click(function(){SSG.showFsTip(jQuery("#SSG1 #f"+e+" .link").attr("data-url"))}),jQuery("#SSG1 #f"+e+" .SSG_share a").click(function(S){if(S.stopPropagation(),navigator.share&&(SSG.isMobile||SSG.isTablet)){let t={url:window.location.href.split("#")[0]+"#"+SSG.getName(SSG.imgs[e].href),text:SSG.imgs[e].alt};navigator.share(t)}else jQuery("#SSG1 #f"+e+" .SSG_share").toggleClass("share-visible-coarse"),"ico"!=this.classList[0]&&"email"!=this.classList[0]&&SSG.inFullscreenMode?(SSG.destroyOnFsChange=!1,SSG.closeFullscreen()):"email"==this.classList[0]&&(SSG.destroyOnFsChange=!1,setTimeout(function(){SSG.destroyOnFsChange=!0},1500))})}e==SSG.imgs.length-1&&(SSG.beyondGallery(),SSG.finito=!0),0==e&&(jQuery("#SSG1 #p0").append('<a role="button" class="SSG_tipCall">&nbsp;</a>'),jQuery("#SSG1 #uwp0").append('<span role="button" class="SSG_tipPlace"><a class="SSG_tipCall">&nbsp;</a></span>'),SSG.cfgFused.showLandscapeHint&&jQuery("#SSG1 #f0").after("<div class='SSG_golandscape'>"+SSG.cfgFused.landscapeHint+"<div>"),jQuery("#SSG1 .SSG_golandscape").click(e=>{SSG.forceLandscapeMode(e,!0)}),jQuery(".SSG_tipCall").click(function(e){SSG.showFsTip("hint"),e.stopPropagation()}))},SSG.beyondGallery=function(){var e="<a id='SSG_first' role='button' class='SSG_link'><span>&nbsp;</span> "+SSG.cfgFused.toTheTop+"</a>",S=SSG.inExitMode?"<a role='button' id='SSG_exit2' class='SSG_link'>&times; "+SSG.cfgFused.exitLink+"</a>":"";jQuery("#SSG1").append("<div id='SSG_lastone'> <p id='SSG_menu'>"+e+S+"</p> <div id='SSG_loadInto'></div></div>"),jQuery("#SSG_menu").click(function(e){e.stopPropagation()}),jQuery("#SSG_exit2").click(SSG.destroyGallery),jQuery("#SSG_first").click(function(){SSG.isFirstImageCentered=!1}),SSG.cfgFused.fileToLoad&&jQuery("#SSG_loadInto").load(SSG.cfgFused.fileToLoad,function(e,S,t){if("success"==S){SSG.fileLoaded=!0,jQuery(".SSG_icell a").click(function(e){e.stopPropagation(),e.ctrlKey||e.shiftKey||SSG.preventExit()});var i=jQuery("#SSG_loadInto style").html(),a=document.createElement("style");a.type="text/css",a.innerHTML=i,jQuery("head").append(a)}})},SSG.getName=function(e){return e.slice(e.lastIndexOf("/")+1)},SSG.setHashGA=function(e){var S;S=-1!=e?"#"+SSG.getName(SSG.imgs[e].href):"#signpost",SSG.cfgFused.logIntoGA&&"function"==typeof ga&&ga("send","pageview","/img"+location.pathname+S),"#signpost"==S&&(S=""),history.replaceState(null,null,SSG.location+S)},SSG.metronome=function(){!SSG.isImgLocked&&SSG.displayedImg>=0&&(SSG.lockedImg=SSG.displayedImg);var e=window.pageYOffset||document.documentElement.scrollTop;if(SSG.loadNextImg&&!SSG.jumpScrollingNow&&-1!=SSG.justLoadedImg&&!SSG.finito&&SSG.imgs[SSG.justLoadedImg].pos-e<2*SSG.scrHeight&&(SSG.addImage(),SSG.loadNextImg=!1),!SSG.finito&&(-1==SSG.justLoadedImg||SSG.imgs[SSG.justLoadedImg].pos-e<.5*SSG.scrHeight)?jQuery(document.body).addClass("SSG_wait"):jQuery(document.body).removeClass("SSG_wait"),Math.abs(SSG.actualPos-e)<SSG.scrHeight/8)for(var S=e+Math.round(SSG.scrHeight/SSG.scrFraction),t=0;t<=SSG.justLoadedImg;t++){var i,a=SSG.displayedImg+SSG.imgDelta+t;if(a>SSG.justLoadedImg&&(a=a-SSG.justLoadedImg-1),a<SSG.imgs.length-1)i=SSG.imgs[a+1].pos;else var s=i=SSG.imgs[a].pos+jQuery("#SSG1 #f"+a).outerHeight(!0);if(S>SSG.imgs[a].pos&&S<i){(SSG.displayedImg!=a||SSG.atLastone)&&(SSG.setHashGA(a),SSG.cfgFused.onImgView&&SSG.cfgFused.onImgView(SSG.createDataObject(a))),SSG.displayedImg=a,SSG.imgDelta=0,SSG.atLastone=!1;break}!SSG.atLastone&&S>s&&(SSG.atLastone=!0,SSG.displayedImg=SSG.imgs.length-1,SSG.setHashGA(-1),SSG.cfgFused.onBeyondGallery&&SSG.cfgFused.onBeyondGallery(SSG.fileLoaded))}SSG.actualPos=e,SSG.isFirstImageCentered||SSG.jumpScroll()},SSG.ScrollTo=function(e,S){SSG.jumpScrollingNow=!0,S&&(jQuery("#SSG1 figure[id=f"+(SSG.displayedImg+S)+"]").fadeTo(0,0),jQuery("#SSG1 figure[id=f"+SSG.displayedImg+"]").fadeTo(.8*SSG.cfgFused.scrollDuration,0)),jQuery("html, body").animate({scrollTop:e},SSG.cfgFused.scrollDuration,"swing",function(){SSG.jumpScrollingNow=!1}),S&&(jQuery("#SSG1 figure[id=f"+(SSG.displayedImg+S)+"]").fadeTo(1.33*SSG.cfgFused.scrollDuration,1),jQuery("#SSG1 figure[id=f"+SSG.displayedImg+"]").fadeTo(SSG.cfgFused.scrollDuration,1))},SSG.jumpScroll=function(){var e,S,t,i,a,s=0;if(SSG.landscapeMode&&(.3*SSG.scrHeight<jQuery("#SSG1 #i"+SSG.displayedImg).outerHeight(!0)&&(s=1),0==s&&SSG.imageUp&&(s=1),.3*SSG.scrHeight>jQuery("#SSG1 #i"+(SSG.displayedImg-1)).outerHeight(!0)&&SSG.imageUp&&(s=0)),-1!=SSG.displayedImg&&0!=(a=(e=window.pageYOffset||document.documentElement.scrollTop,t=e+(S=SSG.countImageIndent(SSG.displayedImg))-SSG.imgs[SSG.displayedImg].pos,t>(i=S/2>SSG.scrHeight/20?S/2:SSG.scrHeight/20)?1:t<-i?-1:0))&&(s=0),SSG.imageDown&&-1==a&&!SSG.atLastone)SSG.ScrollTo(SSG.imgs[SSG.displayedImg].pos-SSG.countImageIndent(SSG.displayedImg),0);else if(SSG.imageUp&&1==a&&!SSG.atLastone)SSG.ScrollTo(SSG.imgs[SSG.displayedImg].pos-SSG.countImageIndent(SSG.displayedImg),0);else if(SSG.imageDown&&SSG.displayedImg+1<SSG.imgs.length&&SSG.imgs[SSG.displayedImg+1].pos)SSG.ScrollTo(SSG.imgs[SSG.displayedImg+1].pos-SSG.countImageIndent(SSG.displayedImg+1),s),SSG.cfgFused.onImgScrollsIn&&SSG.cfgFused.onImgScrollsIn(SSG.createDataObject(SSG.displayedImg+1));else if(SSG.imageUp&&SSG.displayedImg-1>=0&&!SSG.atLastone)SSG.imgDelta=-1,SSG.ScrollTo(SSG.imgs[SSG.displayedImg-1].pos-SSG.countImageIndent(SSG.displayedImg-1),-s),SSG.cfgFused.onImgScrollsIn&&SSG.cfgFused.onImgScrollsIn(SSG.createDataObject(SSG.displayedImg-1));else if(SSG.imgs[0].pos&&!SSG.isFirstImageCentered)window.setTimeout(function(){SSG.ScrollTo(SSG.imgs[0].pos-SSG.countImageIndent(0),0),SSG.cfgFused.onImgScrollsIn&&SSG.cfgFused.onImgScrollsIn(SSG.createDataObject(0)),jQuery("#SSG1").animate({opacity:1},500),SSG.isFirstImageCentered=!0},55);else if(SSG.imageUp&&SSG.atLastone)SSG.ScrollTo(SSG.imgs[SSG.displayedImg].pos-SSG.countImageIndent(SSG.displayedImg),0),SSG.cfgFused.onImgScrollsIn&&SSG.cfgFused.onImgScrollsIn(SSG.createDataObject(SSG.displayedImg));else if(void 0!==jQuery("#SSG_menu").offset()){var n=SSG.fileLoaded?SSG.scrHeight/10:SSG.scrHeight-SSG.scrHeight/5;SSG.imageDown&&SSG.ScrollTo(jQuery("#SSG_menu").offset().top-n,0)}SSG.landscapeMode&&SSG.isFirstImageCentered&&!SSG.wasJumpScrollUsed&&!(SSG.imageUp&&0==SSG.displayedImg)&&(SSG.wasJumpScrollUsed=!0),SSG.imageDown=!1,SSG.imageUp=!1},SSG.countImageIndent=function(e){var S,t,i=window.innerHeight,a=jQuery("#SSG1 #i"+e).outerHeight(),s=jQuery("#SSG1 #p"+e).innerHeight(),n=0==e?0:e-1;return t=jQuery("#SSG1 #f"+n).hasClass("SSG_notitle")||jQuery("#SSG1 #f"+n).hasClass("SSG_uwide")?jQuery("#SSG1 #p"+n).outerHeight(!0)-jQuery("#SSG1 #p"+n).innerHeight():parseInt(jQuery("#SSG1 #p"+n).css("marginBottom")),(S=jQuery("#SSG1 #f"+e).hasClass("SSG_notitle")||jQuery("#SSG1 #f"+e).hasClass("SSG_uwide")?(i-a)/2-.4:(i-(a+s+parseInt(jQuery("#SSG1 #p"+e).css("marginTop"))))/2+1)<0&&SSG.landscapeMode?S=2*S-2:S<0&&!SSG.landscapeMode&&(S=42),S>t?t:S},SSG.seizeScrolling=function(e){SSG.hasClass(e.target.classList,"SSG_scroll-caption")&&e.target.clientHeight>.95*SSG.scrHeight||(e.preventDefault(),e.stopImmediatePropagation(),Math.abs(e.timeStamp-SSG.savedTimeStamp)>222&&"number"==typeof e.wheelDeltaY&&(e.wheelDeltaY<0?(SSG.imageDown=!0,SSG.jumpScroll()):e.wheelDeltaY>0&&(SSG.imageUp=!0,SSG.jumpScroll())),SSG.savedTimeStamp=e.timeStamp)},SSG.openFullscreen=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen({navigationUI:"hide"}):e.mozRequestFullScreen?e.mozRequestFullScreen({navigationUI:"hide"}):e.webkitRequestFullscreen&&e.webkitRequestFullscreen({navigationUI:"hide"})},SSG.closeFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},SSG.createDataObject=function(e){var S={};return S.imgCount=SSG.imgs.length,S.GalleryId=SSG.clickedGalleryID,e>=0&&(S.imgGalleryId=e,S.imgPageId=SSG.imgs[e].id?SSG.imgs[e].id:-1,S.imgPath=SSG.imgs[e].href,S.imgName=SSG.getName(S.imgPath),S.imageCaption=SSG.imgs[e].alt),S},SSG.onHashExit=function(){setTimeout(function(){SSG.atLastone&&SSG.running&&SSG.destroyGallery("hashlink")},333)},SSG.preventExit=function(){SSG.destroyOnFsChange=!1},SSG.restart=function(e){SSG.destroyGallery("restart"),e&&(e.restart=!0),e.cfg||(e.cfg={}),e.cfg.theme=SSG.theme,SSG.run(e)},SSG.destroyGallery=function(e){if(SSG.loadingStopped&&"restart"!=e){if("hashlink"==e)window.location.reload();else{window.scrollTo(0,0);var S,t=window.location.href.substring(0,window.location.href.lastIndexOf("#"));""!=t?window.location.assign(t):window.location.reload()}}"hashlink"!=e&&"restart"!=e&&history.replaceState(null,null,SSG.location),clearInterval(SSG.metronomInterval),SSG.cfgFused.logIntoGA&&"function"==typeof ga&&ga("send","pageview",location.pathname),document.removeEventListener("wheel",SSG.seizeScrolling,!0),window.removeEventListener("hashChange",SSG.onHashExit),jQuery(window).off("resize",SSG.onResize),jQuery(document).off("keydown",SSG.keyFunction),jQuery(document).off("webkitfullscreenchange mozfullscreenchange fullscreenchange",SSG.onFS),jQuery(document).off("touchstart",SSG.slideStart),jQuery(document).off("touchmove",SSG.slideBrowse),jQuery(document).off("touchend",SSG.slideEnd),window.removeEventListener("orientationchange",SSG.onOrientationChanged),document.removeEventListener("touchmove",SSG.iphoneShit,!1),SSG.userAcceptFs=!1,window.screen.orientation&&window.screen.orientation.removeEventListener("change",SSG.onOrientationChanged),S=SSG.landscapeMode!=SSG.landscapeModeOriginal&&SSG.initEvent&&SSG.initEvent.currentTarget?jQuery('a[ssgid="'+SSG.initEvent.currentTarget.attributes.ssgid.nodeValue+'"]').offset().top-SSG.scrHeight/3:SSG.landscapeMode!=SSG.landscapeModeOriginal?jQuery("body").height()/(SSG.originalBodyHeight/SSG.originalPos):SSG.originalPos,"hashlink"!=e&&"restart"!=e&&(SSG.inFullscreenMode||"fsexit"==e?window.setTimeout(function(){window.scrollTo(0,S)},555):window.scrollTo(0,S)),jQuery("#SSG_bg, #SSG1, #SSG_exit, #SSG_lastone, #SSG_tip, svg:has(#SSGsharpen)").remove(),document.body.style.overflow="",document.documentElement.style.overflow="",jQuery("html").removeClass("ssg-active crosscur ssgdim ssglight ssgblack"),jQuery("meta[name='viewport']").attr("content",SSG.viewport),jQuery("meta[name='theme-color']").attr("content",SSG.themeColor?SSG.themeColor:""),SSG.inFullscreenMode&&"restart"!=e&&SSG.closeFullscreen(),SSG.running=!1,SSG.cfgFused.onGalleryExit&&SSG.cfgFused.onGalleryExit(SSG.atLastone?SSG.fileLoaded:SSG.createDataObject(SSG.displayedImg))},SSG.showFsTip=function(e){if(0==jQuery("#SSG_tip").length){var S="<div id='SSG_tip'><span class='"+(e.length>8?"SSG_tipFrame":e)+"'><div id='SSG_tipClose'>&times;</div>",t="</span></div>",i=SSG.cfgFused.hintFS+"<br>",a=function(){SSG.openFullscreen(),jQuery("#SSG_tip").remove(),SSG.userAcceptFs=!0};if("fsOffer"==e)jQuery("body").append(S+i+t),jQuery("#SSG_tip").click(a);else if(-1!=e.substring(0,8).indexOf("://")){var s='<textarea readonly rows="2"  id="linkText" >'+e+'</textarea><br/><button id="copyLink">'+SSG.cfgFused.copyButton+"</button>";jQuery("body").append(S+"<p>"+SSG.cfgFused.imageLink+"</p>"+s+"<div>"+SSG.cfgFused.linkPaste+"</div>"+t),jQuery("#SSG_tip #copyLink").click(function(){jQuery("#SSG_tip #linkText").select(),document.execCommand("copy")})}else if("hint"==e){var n="<div class='SSG_hintClassic'>"+SSG.cfgFused.hint1+"<br>"+SSG.cfgFused.hint2+"<br>",o=SSG.cfgFused.hint3+"</div>",r="<div class='SSG_hintTouch'>"+SSG.cfgFused.hintTouch+"</div>";!SSG.inFullscreenMode&&SSG.fullScreenSupport?(jQuery("body").append(S+n+o+r+"<hr>"+i+t),jQuery("#SSG_tip").click(a),SSG.fsTipShown=!0):(jQuery("body").append(S+n+o+r+t),SSG.fsTipShown=!0)}else e.length>33?(jQuery("body").append(S+e+t),jQuery(".SSG_exif-table").on("touchmove",function(e){e.stopPropagation()})):"rotatErr"==e&&jQuery("body").append(S+"Your device doesn't support auto-rotate, <br> rotate it manually to landscape."+t);jQuery("#SSG_tipClose").click(function(){jQuery("#SSG_tip").remove()}),jQuery("#SSG_tip").on("contextmenu",function(e){e.preventDefault()})}else jQuery("#SSG_tip").remove()};